(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2u47":function(e){e.exports=JSON.parse("{}")},N82c:function(e){e.exports=JSON.parse("{}")},QEXP:function(e,t,n){e.exports=n.p+"static/loading.aee5f6fb.svg"},R1Dz:function(e,t,n){"use strict";var a=n("q1tI");t["a"]=Object(a["createContext"])()},"S/9j":function(e,t,n){"use strict";function a(e){var t=e.split("/").filter((e=>e));return t.map(((e,n)=>"/".concat(t.slice(0,n+1).join("/"))))}n.d(t,"a",(function(){return a}))},kiEm:function(e,t,n){"use strict";n.r(t);n("+L6B");var a=n("2/Rp"),o=n("q1tI"),r=n("9kvl"),c=n("THqM"),s=(n("5NDa"),n("5rEg")),i=n("k1fw"),l=n("9og8"),u=n("tJVT"),b=n("WmNS"),d=n.n(b),j=n("nkYg"),O=n("+Ri4"),p=n.n(O),g=(n("+n12"),n("Z6YE")),h=n("jUKV"),x=n("O/14"),m=(n("2u47"),n("N82c"),n("GUrf")),v=n("4218"),f=n("cUlj"),w=n("nKUr");function k(e,t){return y.apply(this,arguments)}function y(){return y=Object(l["a"])(d.a.mark((function e(t,n){var a,o,r,c,s,i,u,b,j,O,p,g,h,w,k,y,C,S,T,E,N,I,A,L,P=arguments;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=P.length>2&&void 0!==P[2]?P[2]:x["c"],o=!(P.length>3&&void 0!==P[3])||P[3],r=P.length>4?P[4]:void 0,c=P.length>5?P[5]:void 0,s=P.length>6?P[6]:void 0,i=P.length>7?P[7]:void 0,u=P.length>8?P[8]:void 0,b=P.length>9?P[9]:void 0,j=P.length>10?P[10]:void 0,O=P.length>11?P[11]:void 0,p=P.length>12?P[12]:void 0,g=P.length>13?P[13]:void 0,h=P.length>14?P[14]:void 0,w=P.length>15?P[15]:void 0,k=P.length>16?P[16]:void 0,y=P.length>17?P[17]:void 0,C=P.length>18?P[18]:void 0,S=P.length>19?P[19]:void 0,T=P.length>20?P[20]:void 0,E=P.length>21?P[21]:void 0,N=P.length>22?P[22]:void 0,I=P.length>23?P[23]:void 0,A=P.length>24?P[24]:void 0,e.next=25,Object(l["a"])(d.a.mark((function e(){var l,L,P,q,H,D,R,U,W,F,B,M,K,Y,Q,z,G,J,V,X,Z,_,$,ee,te,ne,ae,oe,re,ce,se,ie,le,ue,be,de,je;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b(!1),j(!1),O("0"),p("0"),g(!1),h(!1),w(""),k("Loading..."),y(!1),C(""),console.log(m["c"]),l=Object(x["p"])(c,s),.01*a,L=t.address,P=t.symbol,q=t.decimal,H=t.amount,D=n.address,R=n.symbol,U=n.decimal,W=n.amount,H=H||"0",W=W||"0",s&&c){e.next=19;break}return e.abrupt("return",new x["a"]("Connect to your wallet"));case 19:if(t.symbol&&n.symbol){e.next=21;break}return e.abrupt("return",new x["a"]("Please choose tokens"));case 21:if(!o||"0"!=H){e.next=23;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 23:if(o||"0"!=W){e.next=25;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 25:if(!o||""!=H){e.next=27;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 27:if(o||""!=W){e.next=29;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 29:if(!o||!isNaN(parseFloat(H))){e.next=31;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 31:if(o||!isNaN(parseFloat(W))){e.next=33;break}return e.abrupt("return",new x["a"]("Please enter amount"));case 33:if(F="ETH"===P,B="ETH"===R,console.log(t),console.log(n),!F||!B){e.next=41;break}return k("Doesn't support ETH to ETH"),y(!1),e.abrupt("return",new x["a"]("Doesn't support ETH to ETH"));case 41:if(!(F&&"WETH"===R||"WETH"===P&&B)){e.next=45;break}return k("Invalid pair WETH/ETH"),y(!1),e.abrupt("return",new x["a"]("Invalid pair WETH/ETH"));case 45:if(console.log("ADD LIQUIDITY"),console.log("------------------ CONSTRUCT TOKEN ------------------"),M=F?m["n"][r]:new m["j"](r,L,q,P),K=B?m["n"][r]:new m["j"](r,D,U,R),!M.equals(K)){e.next=53;break}return k("Equal tokens"),y(!1),e.abrupt("return",new x["a"]("Equal tokens!"));case 53:return e.next=55,m["d"].fetchPairData(M,K,c).then((e=>(console.log(e.reserve0.raw.toString()),console.log(e.reserve1.raw.toString()),e))).catch((e=>new x["a"]("".concat(M.symbol," - ").concat(K.symbol," pool does not exist. Create one?"))));case 55:Y=e.sent,console.log("pair"),console.log(Y),S(Y),Q=!1,Y instanceof x["a"]&&(Q=!0),T(Q),console.log("------------------ PARSE AMOUNT ------------------"),e.prev=63,z=o?new m["k"](M,Object(f["b"])(H,q)):new m["k"](K,Object(f["b"])(W,U)),e.next=77;break;case 67:if(e.prev=67,e.t0=e["catch"](63),console.log("parsedAmount"),console.log(e.t0),y(!1),"underflow"!==e.t0.fault){e.next=75;break}return k("Value too small"),e.abrupt("return",new x["a"](e.t0.fault));case 75:return k(Q?"Enter both values":"Unhandled error"),e.abrupt("return",new x["a"]("Amount error"));case 77:if(Q){e.next=124;break}if(console.log("estimated dependent amount"),!o){e.next=101;break}V=Y.priceOf(M).quote(z),e.prev=81,X=new m["k"](M,Object(f["b"])(H,q)),e.next=95;break;case 85:if(e.prev=85,e.t1=e["catch"](81),y(!1),"underflow"!==e.t1.fault){e.next=93;break}return k(e.t1.fault),e.abrupt("return",new x["a"](e.t1.fault));case 93:return k("Token or amount missing"),e.abrupt("return",new x["a"]("Token or amount missing"));case 95:G=M===m["b"]?m["a"].ether(X.raw):X,J=K===m["b"]?m["a"].ether(V.raw):V,u(V.toFixed(5)),W=V.toExact(),e.next=122;break;case 101:V=Y.priceOf(K).quote(z),e.prev=102,Z=new m["k"](K,Object(f["b"])(W,U)),e.next=118;break;case 106:if(e.prev=106,e.t2=e["catch"](102),console.log("token0TokenAmount"),console.log(e.t2),y(!1),"underflow"!==e.t2.fault){e.next=116;break}return k(e.t2.fault),e.abrupt("return",new x["a"](e.t2.fault));case 116:return k("Token or amount missing"),e.abrupt("return",new x["a"]("Token or amount missing"));case 118:G=M===m["b"]?m["a"].ether(V.raw):V,J=K===m["b"]?m["a"].ether(Z.raw):Z,i(V.toFixed(5)),H=V.toExact();case 122:e.next=151;break;case 124:if("0"!==H&&"0"!==W){e.next=134;break}if(!Q){e.next=131;break}return y(!1),k("Create new pool"),e.abrupt("return",new x["a"]("Creating a new pool, please enter both amounts"));case 131:return y(!1),k("Add liquidity"),e.abrupt("return",new x["a"]("One field is empty, it's probably a new pool"));case 134:e.prev=134,G=new m["k"](M,Object(f["b"])(H,q)),J=new m["k"](K,Object(f["b"])(W,U)),e.next=151;break;case 139:if(e.prev=139,e.t3=e["catch"](134),console.log("parsedToken0Amount and parsedToken1Amount"),console.log(e.t3),y(!1),"underflow"!==e.t3.fault){e.next=149;break}return k(e.t3.fault),e.abrupt("return",new x["a"](e.t3.fault));case 149:return k("Value must be a number"),e.abrupt("return",new x["a"]("Value must be a number"));case 151:return E(G),N(J),console.log("------------------ CHECK BALANCE ------------------"),e.next=156,Object(x["t"])(F?m["b"]:new m["j"](r,L,q,P),s,c);case 156:return _=e.sent,e.next=159,Object(x["t"])(B?m["b"]:new m["j"](r,D,U,R),s,c);case 159:$=e.sent,console.log("token0 balance"),console.log(_),console.log("token1 balance"),console.log($),e.prev=164,ee=_.gte(Object(f["b"])(H,q))&&$.gte(Object(f["b"])(W,U)),e.next=180;break;case 168:if(e.prev=168,e.t4=e["catch"](164),console.log(ee),console.log(e.t4),y(!1),"underflow"!==e.t4.fault){e.next=178;break}return k(e.t4.fault),e.abrupt("return",new x["a"](e.t4.fault));case 178:return k("userHasSufficientBalance"),e.abrupt("return",new x["a"]("unknow error"));case 180:if(ee){e.next=184;break}return k("Not enough balance"),y(!1),e.abrupt("return",new x["a"]("Not enough balance"));case 184:if(console.log("------------------ BREAKDOWN ------------------"),Q){e.next=208;break}return e.next=188,Object(x["r"])(Y.liquidityToken,c,s);case 188:te=e.sent,console.log("Liquidity Minted"),console.log(Y.liquidityToken),e.prev=191,ne=Y.getLiquidityMinted(te,G,J),ae=new m["g"](ne.raw,te.add(ne).raw).toFixed(4),w(["Pool reserve: ".concat(Y.reserve0.toFixed(3)," ").concat(Y.token0.symbol," + ").concat(Y.reserve1.toFixed(3)," ").concat(Y.token1.symbol),"Pool share: ".concat(ae,"%")]),e.next=206;break;case 197:if(e.prev=197,e.t5=e["catch"](191),!(e.t5 instanceof m["e"])){e.next=203;break}return k("Insufficient reserve!"),y(!1),e.abrupt("return",new x["a"]("Insufficient reserve!"));case 203:return k("Unhandled exception!"),y(!1),e.abrupt("return",new x["a"]("Unhandled exception!"));case 206:e.next=209;break;case 208:w(["Ready to create ".concat(P," ").concat(R," liquidity pool.")]);case 209:if(console.log("------------------ ALLOWANCE ------------------"),oe=0,F){e.next=218;break}return e.next=214,Object(x["i"])(L,G.raw.toString(),c,s);case 214:re=e.sent,console.log("token 0 approved?"),console.log(re),re||(console.log("Not enough allowance"),O(G.raw.toString()),b(!0),g(!0),oe+=1);case 218:if(B){e.next=226;break}return console.log("Inside addLiquidity, amount needed: ".concat(J.raw.toString())),e.next=222,Object(x["i"])(D,J.raw.toString(),c,s);case 222:ce=e.sent,console.log("token 1 approved?"),console.log(ce),ce||(console.log("Not enough allowance for token1"),p(J.raw.toString()),j(!0),h(!0),oe+=2);case 226:if(!(oe>0)){e.next=230;break}return y(!1),k("Need approval"),e.abrupt("return",new x["a"]("Need approve ".concat(1===oe?P:2===oe?R:"".concat(P," and ").concat(R))));case 230:y(!0),k(Q?"Create a new pool":"Add liquidity"),console.log("------------------ PREPARE ADD LIQUIDITY ------------------"),console.log("parsed token 0 amount"),console.log(G.raw),console.log("parsed token 1 amount"),console.log(J.raw),console.log("slippage"),console.log(a),F||B?(se=l.estimateGas.addLiquidityETH,ie=l.addLiquidityETH,be=F?K:M,de=F?J:G,je=F?Object(x["h"])(G,Q?0:a)[0].toString():Object(x["h"])(J,Q?0:a)[0].toString(),le=[be.address,de.raw.toString(),Object(x["h"])(de,Q?0:a)[0].toString(),je,s,"0x".concat((Math.floor((new Date).getTime()/1e3)+60).toString(16))],ue=v["a"].from((B?J:G).raw.toString()),console.log(ue)):(se=l.estimateGas.addLiquidity,ie=l.addLiquidity,le=[L,D,G.raw.toString(),J.raw.toString(),Object(x["h"])(G,Q?0:a)[0].toString(),Object(x["h"])(J,Q?0:a)[0].toString(),s,"0x".concat((Math.floor((new Date).getTime()/1e3)+60).toString(16))],ue=null),console.log("args"),console.log(le),console.log("estimate"),console.log(se),console.log("method"),console.log(ie),console.log("value"),console.log(ue),I(le),A(ue);case 250:case"end":return e.stop()}}),e,null,[[63,67],[81,85],[102,106],[134,139],[164,168],[191,197]])})))();case 25:L=e.sent,L instanceof x["a"]?k(L.getErrorText()):console.log(L);case 27:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return S=Object(l["a"])(d.a.mark((function e(t,n){var a,o,r,c,s,u,b,j,O,p,g,h,v,f,k=arguments;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=k.length>2&&void 0!==k[2]?k[2]:x["c"],!(k.length>3&&void 0!==k[3])||k[3],o=k.length>4?k[4]:void 0,r=k.length>5?k[5]:void 0,c=k.length>6?k[6]:void 0,s=k.length>7?k[7]:void 0,u=k.length>8?k[8]:void 0,b=k.length>9?k[9]:void 0,j=k.length>10?k[10]:void 0,O=k.length>11?k[11]:void 0,p=k.length>12?k[12]:void 0,g=k.length>13?k[13]:void 0,h=k.length>14?k[14]:void 0,e.next=15,Object(l["a"])(d.a.mark((function e(){var l,g,h,v,f,w,k,y,C,S,T,E,N,I;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(m["c"]),l=Object(x["p"])(r,c),g=t.address,h=t.symbol,v=t.decimal,t.amount,f=n.address,w=n.symbol,k=n.decimal,n.amount,y="ETH"===h,C="ETH"===w,console.log("------------------ RECEIVED TOKEN ------------------"),console.log("token0"),console.log(t),console.log("token1"),console.log(n),!y||!C){e.next=13;break}return e.abrupt("return",new x["a"]("Doesn't support ETH to ETH"));case 13:if(!(y&&"WETH"===w||"WETH"===h&&C)){e.next=15;break}return e.abrupt("return",new x["a"]("Invalid pair WETH/ETH"));case 15:if(console.log("ADD LIQUIDITY"),console.log("------------------ CONSTRUCT TOKEN ------------------"),S=y?m["n"][o]:new m["j"](o,g,v,h),T=C?m["n"][o]:new m["j"](o,f,k,w),!S.equals(T)){e.next=21;break}return e.abrupt("return",new x["a"]("Equal tokens!"));case 21:return console.log("------------------ CONSTRUCT PAIR ------------------"),console.log("FETCH pair"),console.log(s),console.log(u),console.log("------------------ PARSE AMOUNT ------------------"),console.log(b),console.log(j),console.log("------------------ CHECK BALANCE ------------------"),console.log("------------------ BREAKDOWN ------------------"),console.log("------------------ ALLOWANCE ------------------"),console.log("------------------ PREPARE ADD LIQUIDITY ------------------"),y||C?(E=l.estimateGas.addLiquidityETH,N=l.addLiquidityETH,console.log(O),console.log(p)):(E=l.estimateGas.addLiquidity,N=l.addLiquidity,console.log(O),console.log(p)),console.log("parsed token 0 amount"),console.log(b.raw),console.log("parsed token 1 amount"),console.log(j.raw),console.log("slippage"),console.log(a),console.log(E),console.log(N),console.log(O),console.log(p),e.next=45,E(...O,p?{value:p}:{}).then((e=>N(...O,Object(i["a"])(Object(i["a"])({},p?{value:p}:{}),{},{gasLimit:Object(x["g"])(e)})).catch((e=>new x["a"]("CustomError in transaction")))));case 45:return I=e.sent,e.abrupt("return",I);case 47:case"end":return e.stop()}}),e)})))();case 15:return v=e.sent,v instanceof x["a"]?g(v.getErrorText()):(console.log("status"),console.log(v),f="https://rinkeby.etherscan.io/tx/"+v.hash,h(v),g(Object(w["jsx"])("a",{href:f,target:"_blank",children:"View it on etherscan"}))),e.abrupt("return");case 18:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}var T,E,N=n("QEXP"),I=n.n(N),A=c["t"].AcyTabPane,L=e=>{e.dispatch;var t=e.onLoggedIn,n=Object(o["useState"])(null),r=Object(u["a"])(n,2),b=r[0],O=r[1],m=Object(o["useState"])(!0),v=Object(u["a"])(m,2),f=v[0],y=v[1],S=Object(o["useState"])(j["a"][0]),T=Object(u["a"])(S,2),E=T[0],N=T[1],L=Object(o["useState"])(j["a"][1]),P=Object(u["a"])(L,2),q=P[0],H=P[1],D=Object(o["useState"])("0"),R=Object(u["a"])(D,2),U=R[0],W=R[1],F=Object(o["useState"])("0"),B=Object(u["a"])(F,2),M=B[0],K=B[1],Y=Object(o["useState"])(),Q=Object(u["a"])(Y,2),z=Q[0],G=Q[1],J=Object(o["useState"])(),V=Object(u["a"])(J,2),X=V[0],Z=V[1],_=Object(o["useState"])(!1),$=Object(u["a"])(_,2),ee=$[0],te=$[1],ne=Object(o["useState"])(!1),ae=Object(u["a"])(ne,2),oe=ae[0],re=ae[1],ce=Object(o["useState"])(!0),se=Object(u["a"])(ce,2),ie=se[0],le=se[1],ue=Object(o["useState"])(x["c"]/100),be=Object(u["a"])(ue,2),de=be[0],je=be[1],Oe=Object(o["useState"])(x["c"]/100),pe=Object(u["a"])(Oe,2),ge=pe[0],he=pe[1],xe=Object(o["useState"])(""),me=Object(u["a"])(xe,2),ve=me[0],fe=me[1],we=Object(o["useState"])(!1),ke=Object(u["a"])(we,2),ye=ke[0],Ce=ke[1],Se=Object(o["useState"])(!1),Te=Object(u["a"])(Se,2),Ee=Te[0],Ne=Te[1],Ie=Object(o["useState"])("0"),Ae=Object(u["a"])(Ie,2),Le=Ae[0],Pe=Ae[1],qe=Object(o["useState"])("0"),He=Object(u["a"])(qe,2),De=He[0],Re=He[1],Ue=Object(o["useState"])(!1),We=Object(u["a"])(Ue,2),Fe=We[0],Be=We[1],Me=Object(o["useState"])(!1),Ke=Object(u["a"])(Me,2),Ye=Ke[0],Qe=Ke[1],ze=Object(o["useState"])(),Ge=Object(u["a"])(ze,2),Je=Ge[0],Ve=Ge[1],Xe=Object(o["useState"])("Connect to wallet"),Ze=Object(u["a"])(Xe,2),_e=Ze[0],$e=Ze[1],et=Object(o["useState"])(!0),tt=Object(u["a"])(et,2),nt=tt[0],at=tt[1],ot=Object(o["useState"])(),rt=Object(u["a"])(ot,2),ct=rt[0],st=rt[1],it=Object(o["useState"])(),lt=Object(u["a"])(it,2),ut=lt[0],bt=lt[1],dt=Object(o["useState"])(),jt=Object(u["a"])(dt,2),Ot=jt[0],pt=jt[1],gt=Object(o["useState"])(),ht=Object(u["a"])(gt,2),xt=ht[0],mt=ht[1],vt=Object(o["useState"])(),ft=Object(u["a"])(vt,2),wt=ft[0],kt=ft[1],yt=Object(o["useState"])(),Ct=Object(u["a"])(yt,2),St=Ct[0],Tt=Ct[1],Et=Object(o["useState"])(),Nt=Object(u["a"])(Et,2),It=Nt[0],At=Nt[1],Lt=Object(o["useState"])(""),Pt=Object(u["a"])(Lt,2),qt=Pt[0],Ht=Pt[1],Dt=Object(o["useState"])(j["a"]),Rt=Object(u["a"])(Dt,2),Ut=Rt[0],Wt=Rt[1],Ft=Object(o["useState"])(!1),Bt=Object(u["a"])(Ft,2),Mt=Bt[0],Kt=Bt[1],Yt=Object(o["useState"])(!1),Qt=Object(u["a"])(Yt,2),zt=Qt[0],Gt=Qt[1],Jt=e=>{Ht(e.target.value),Wt(j["a"].filter((t=>t.symbol.includes(e.target.value.toUpperCase()))))},Vt=Object(o["useState"])([]),Xt=Object(u["a"])(Vt,2),Zt=(Xt[0],Xt[1],Object(g["b"])()),_t=Zt.account,$t=Zt.chainId,en=Zt.library,tn=Zt.activate,nn=new h["a"]({supportedChainIds:[1,3,4,5,42,80001]});Object(o["useEffect"])((()=>{tn(nn)}),[_t]);var an=Object(o["useCallback"])(Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(E&&q){e.next=2;break}return e.abrupt("return");case 2:if(ie){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k(Object(i["a"])(Object(i["a"])({},E),{},{amount:z}),Object(i["a"])(Object(i["a"])({},q),{},{amount:X}),100*de,ie,$t,en,_t,G,Z,Ce,Ne,Pe,Re,Be,Qe,Ve,$e,at,st,bt,pt,mt,kt,Tt,At);case 6:case"end":return e.stop()}}),e)}))),[E,q,z,X,de,ie,$t,en,_t]),on=Object(o["useCallback"])(Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(E&&q){e.next=2;break}return e.abrupt("return");case 2:if(!ie){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k(Object(i["a"])(Object(i["a"])({},E),{},{amount:z}),Object(i["a"])(Object(i["a"])({},q),{},{amount:X}),100*de,ie,$t,en,_t,G,Z,Ce,Ne,Pe,Re,Be,Qe,Ve,$e,at,st,bt,pt,mt,kt,Tt,At);case 6:case"end":return e.stop()}}),e)}))),[E,q,z,X,de,ie,$t,en,_t]);Object(o["useEffect"])((()=>{an()}),[E,q,z,X,de,ie,$t,en,_t]),Object(o["useEffect"])((()=>{on()}),[E,q,z,X,de,ie,$t,en,_t]),Object(o["useEffect"])((()=>{void 0==_t?(at(!0),$e("Connect to Wallet")):($e("Choose tokens and amount"),at(!1),t())}),[$t,en,_t]),Object(o["useEffect"])((()=>{var e=()=>document.getElementById("liquidity-token-search-input").focus();!0===b&&setTimeout(e,100)}),[b]);var rn=()=>{O(!0)},cn=()=>{O(!1)};Object(o["useEffect"])((()=>{function e(){return t.apply(this,arguments)}function t(){return t=Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return te(!0),re(!0),e.t0=W,e.next=5,Object(x["s"])(E,$t,_t,en);case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=K,e.next=10,Object(x["s"])(q,$t,_t,en);case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}_t&&$t&&en&&(console.log("get balances in liquidity"),e())}),[_t,$t,en,E,q]);var sn=function(){var e=Object(l["a"])(d.a.mark((function e(t){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(cn(),!f){e.next=15;break}if(void 0!=_t){e.next=6;break}alert("Please connect to your account"),e.next=13;break;case 6:return N(t),e.t0=W,e.next=10,Object(x["s"])(t,$t,_t,en);case 10:e.t1=e.sent,(0,e.t0)(e.t1),te(!0);case 13:e.next=26;break;case 15:if(void 0!=_t){e.next=19;break}alert("Please connect to your account"),e.next=26;break;case 19:return H(t),e.t2=K,e.next=23,Object(x["s"])(t,$t,_t,en);case 23:e.t3=e.sent,(0,e.t2)(e.t3),re(!0);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=Object(o["useState"])([]),un=Object(u["a"])(ln,2),bn=un[0],dn=un[1],jn=e=>{dn((t=>{var n=[...t];return n.push(Ut[e]),n}))},On=e=>{console.log(e)};return Object(w["jsxs"])("div",{children:[Object(w["jsx"])(c["j"],{icon:"eth",title:ee&&"Balance: ".concat(parseFloat(U).toFixed(5)),logoURI:E&&E.logoURI,coin:E&&E.symbol||"Select",yuan:"566.228",dollar:"".concat(U),token:z,onChoseToken:Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:rn(),y(!0);case 2:case"end":return e.stop()}}),e)}))),onChangeToken:e=>{le(!0),G(e)}}),Object(w["jsx"])("div",{style:{margin:"12px auto",textAlign:"center"},children:Object(w["jsx"])(c["l"],{width:21.5,name:"plus_light"})}),Object(w["jsx"])(c["j"],{icon:"eth",title:oe&&"Balance: ".concat(parseFloat(M).toFixed(5)),logoURI:q&&q.logoURI,coin:q&&q.symbol||"Select",yuan:"566.228",dollar:"".concat(M),token:X,onChoseToken:Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:rn(),y(!1);case 2:case"end":return e.stop()}}),e)}))),onChangeToken:e=>{le(!1),Z(e)}}),Object(w["jsx"])(c["k"],{children:Je&&Object(w["jsxs"])(w["Fragment"],{children:[Object(w["jsx"])("div",{className:p.a.breakdownTopContainer,children:Object(w["jsxs"])("div",{className:p.a.slippageContainer,children:[Object(w["jsx"])("span",{style:{fontWeight:600},children:"Slippage tolerance"}),Object(w["jsxs"])("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"7px"},children:[Object(w["jsx"])(a["a"],{type:"link",style:{marginRight:"5px"},children:"Auto"}),Object(w["jsx"])(s["a"],{value:ge||"",onChange:e=>{he(e.target.value)},suffix:Object(w["jsx"])("strong",{children:"%"})}),Object(w["jsx"])(a["a"],{type:"primary",style:{marginLeft:"10px",background:"#2e3032",borderColor:"transparent"},onClick:()=>{isNaN(ge)?fe("Please input valid slippage value!"):(fe(""),je(parseFloat(ge)))},children:"Set"})]}),ve.length>0&&Object(w["jsx"])("span",{style:{fontWeight:600,color:"#c6224e"},children:ve})]})}),Object(w["jsx"])("div",{className:p.a.acyDescriptionContainer,children:Je.map((e=>Object(w["jsx"])(c["k"].Item,{children:Object(w["jsx"])("div",{className:p.a.acyDescriptionItem,children:e})})))})]})}),1==Fe&&Object(w["jsxs"])("div",{children:[Object(w["jsxs"])(c["d"],{variant:"warning",onClick:Object(l["a"])(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Kt(!0),Ce(!1),e.next=4,Object(x["e"])(E.address,Le,en,_t);case 4:if(t=e.sent,Ce(!0),Kt(!1),1!=t){e.next=12;break}return Ce(!1),e.next=11,k(Object(i["a"])(Object(i["a"])({},E),{},{amount:z}),Object(i["a"])(Object(i["a"])({},q),{},{amount:X}),100*de,ie,$t,en,_t,G,Z,Ce,Ne,Pe,Re,Be,Qe,Ve,$e,at,st,bt,pt,mt,kt,Tt,At);case 11:0==Ee&&(Ot?at("Create new pool"):$e("Add liquidity"),at(!0));case 12:case"end":return e.stop()}}),e)}))),disabled:!ye,children:["Approve ",E&&E.symbol,Mt&&Object(w["jsx"])("img",{style:{width:30,height:30,marginLeft:"1%"},src:I.a,className:p.a.spinner,alt:"spinner"})]})," "]}),1==Ye&&Object(w["jsx"])("div",{children:Object(w["jsxs"])(c["d"],{variant:"warning",onClick:Object(l["a"])(d.a.mark((function e(){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Gt(!0),Ne(!1),e.next=4,Object(x["e"])(q.address,De,en,_t);case 4:if(t=e.sent,Ne(!0),Gt(!1),1!=t){e.next=12;break}return Ne(!1),e.next=11,k(Object(i["a"])(Object(i["a"])({},E),{},{amount:z}),Object(i["a"])(Object(i["a"])({},q),{},{amount:X}),100*de,ie,$t,en,_t,G,Z,Ce,Ne,Pe,Re,Be,Qe,Ve,$e,at,st,bt,pt,mt,kt,Tt,At);case 11:0==ye&&(Ot?at("Create new pool"):$e("Add liquidity"),at(!0));case 12:case"end":return e.stop()}}),e)}))),disabled:!Ee,children:["Approve ",q&&q.symbol,zt&&Object(w["jsx"])("img",{style:{width:30,height:30,marginLeft:"1%"},src:I.a,className:p.a.spinner,alt:"spinner"})]})}),Object(w["jsx"])(c["d"],{variant:"success",disabled:!nt,onClick:Object(l["a"])(d.a.mark((function e(){return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!=_t){e.next=6;break}tn(nn),$e("Choose tokens and amount"),at(!1),e.next=8;break;case 6:return e.next=8,C(Object(i["a"])(Object(i["a"])({},E),{},{amount:z}),Object(i["a"])(Object(i["a"])({},q),{},{amount:X}),100*de,ie,$t,en,_t,ut,Ot,xt,wt,St,It,st,On);case 8:case"end":return e.stop()}}),e)}))),children:_e}),Object(w["jsx"])(c["k"],{children:ct&&Object(w["jsx"])(c["k"].Item,{children:ct})}),Object(w["jsxs"])(c["p"],{onCancel:cn,width:400,visible:b,children:[Object(w["jsx"])("div",{className:p.a.title,children:"Select a token"}),Object(w["jsx"])("div",{className:p.a.search,children:Object(w["jsx"])(s["a"],{size:"large",style:{backgroundColor:"#373739",borderRadius:"40px"},placeholder:"Enter the token symbol or address",value:qt,onChange:Jt,id:"liquidity-token-search-input"})}),Object(w["jsx"])("div",{className:p.a.coinList,children:Object(w["jsxs"])(c["t"],{children:[Object(w["jsx"])(A,{tab:"All",children:Ut.map(((e,t)=>Object(w["jsx"])(c["g"],{data:e,customIcon:!1,setAsFav:()=>jn(t),selectToken:()=>{sn(e)}},t)))},"1"),Object(w["jsx"])(A,{tab:"Favorite",children:bn.map(((e,t)=>Object(w["jsx"])(c["g"],{data:e,selectToken:()=>jn(t),customIcon:!1,index:t,setAsFav:()=>jn(t),hideFavButton:!0},t)))},"2")]})})]})]})},P=Object(r["b"])((e=>{var t=e.global,n=e.transaction,a=e.loading;return{global:t,transaction:n,loading:a.global}}))(L),q=n("zHco"),H=n("EYsQ"),D=n.n(H),R=c["t"].AcyTabPane,U=(T=Object(r["b"])((e=>{var t=e.profile,n=e.loading;return{profile:t,loading:n.effects["profile/fetchBasic"]}})),T(E=class extends o["Component"]{constructor(){super(...arguments),this.state={visible:!1,visibleConfirmOrder:!1,visibleLoading:!1,tabIndex:1,loggedIn:!1},this.lineTitleRender=()=>[Object(w["jsxs"])("div",{children:[Object(w["jsxs"])("div",{className:D.a.maintitle,children:[Object(w["jsx"])("span",{className:D.a.lighttitle,children:"ETH"}),"/BTC"]}),Object(w["jsxs"])("div",{className:D.a.secondarytitle,children:[Object(w["jsx"])("span",{className:D.a.lighttitle,children:"212.123"})," ",Object(w["jsx"])("span",{className:D.a.percentage,children:"+12.45%"})," 2021.07.11"]})]}),Object(w["jsx"])(c["q"],{onhandPeriodTimeChoose:this.onhandPeriodTimeChoose,className:D.a.pt,times:["1D","7D","1M","1Y","All"]})],this.onhandPeriodTimeChoose=e=>{console.log(e)},this.onClickCoin=()=>{this.setState({visible:!0})},this.onCancel=()=>{this.setState({visible:!1})},this.onHandModalConfirmOrder=e=>{this.setState({visibleConfirmOrder:!!e})},this.onChangeTabs=e=>{this.setState({tabIndex:e})},this.onLoggedIn=()=>{this.setState({loggedIn:!0})}}componentDidMount(){}render(){var e=this.state,t=e.visible,n=e.visibleConfirmOrder,o=e.visibleLoading,r=(e.tabIndex,e.loggedIn);return Object(w["jsxs"])(q["a"],{children:[Object(w["jsxs"])("div",{className:r?D.a.main:D.a.main_notLoggedIn,children:[Object(w["jsx"])("div",{children:r&&Object(w["jsx"])(c["o"],{})}),Object(w["jsx"])("div",{children:Object(w["jsx"])(c["e"],{style:{backgroundColor:"#0e0304",padding:"10px"},children:Object(w["jsx"])("div",{className:D.a.addLiquidity,children:Object(w["jsx"])(P,{onLoggedIn:this.onLoggedIn})})})})]}),Object(w["jsxs"])(c["p"],{onCancel:this.onCancel,width:600,visible:t,children:[Object(w["jsxs"])("div",{className:D.a.title,children:[Object(w["jsx"])(c["l"],{name:"back"})," Select a token"]}),Object(w["jsx"])("div",{className:D.a.search,children:Object(w["jsx"])(c["m"],{placeholder:"Enter the token symbol or address",suffix:Object(w["jsx"])(c["l"],{name:"search"})})}),Object(w["jsx"])("div",{className:D.a.coinList,children:Object(w["jsxs"])(c["t"],{children:[Object(w["jsxs"])(R,{tab:"All",children:[Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{})]},"1"),Object(w["jsx"])(R,{tab:"Favorite"},"2"),Object(w["jsx"])(R,{tab:"Index"},"3"),Object(w["jsx"])(R,{tab:"Synth"},"4")]})})]}),Object(w["jsx"])(c["h"],{onCancel:this.onHandModalConfirmOrder,title:"Comfirm Order",visible:n,children:Object(w["jsxs"])("div",{className:D.a.confirm,children:[Object(w["jsx"])("p",{children:"ETH\uff1a 566.228"}),Object(w["jsx"])("p",{children:"BTC\uff1a2.669"}),Object(w["jsx"])("p",{children:"Price\uff1a212.123"}),Object(w["jsx"])("p",{children:"Price Impact\uff1a2.232%"}),Object(w["jsx"])("p",{children:"Liquidity Provide Fee: 0.321%"}),Object(w["jsx"])("p",{children:"Alpha: 0.371%"}),Object(w["jsx"])("p",{children:"Maximum sold: 566.221"}),Object(w["jsx"])(a["a"],{size:"large",type:"primary",children:"Confirm"})]})}),Object(w["jsx"])(c["b"],{onCancel:()=>this.setState({visibleLoading:!1}),visible:o})]})}})||E);t["default"]=U},zHco:function(e,t,n){"use strict";var a=n("PpiC"),o=n("q1tI"),r=(n("cWXX"),n("/ezw"),n("k1fw"),n("Znn+"),n("ZTPi")),c=(n("TSYQ"),n("PCKb"),n("sPJy"),n("bE4q"),n("vRGJ"),n("S/9j"),n("nKUr"));o["PureComponent"];r["a"].TabPane;o["PureComponent"];var s=n("9kvl"),i=n("GvbY"),l=n.n(i);class u extends o["PureComponent"]{render(){var e=this.props,t=e.contentWidth,n=e.children,a="".concat(l.a.main);return"Fixed"===t&&(a="".concat(l.a.main," ").concat(l.a.wide)),Object(c["jsx"])("div",{className:a,children:n})}}var b=Object(s["b"])((e=>{var t=e.setting;return{contentWidth:t.contentWidth}}))(u),d=n("U0CE"),j=n.n(d),O=(n("R1Dz"),e=>{var t=e.children,n=(e.contentWidth,e.wrapperClassName),o=e.top;Object(a["a"])(e,["children","contentWidth","wrapperClassName","top"]);return Object(c["jsxs"])("div",{style:{margin:"-24px -24px 0"},className:n,children:[o,t?Object(c["jsx"])("div",{className:j.a.content,children:Object(c["jsx"])(b,{children:t})}):null]})});t["a"]=Object(s["b"])((e=>{var t=e.setting;return{contentWidth:t.contentWidth}}))(O)}}]);