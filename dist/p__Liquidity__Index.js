(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2u47":function(e){e.exports=JSON.parse("{}")},N82c:function(e){e.exports=JSON.parse("{}")},QEXP:function(e,t,n){e.exports=n.p+"static/loading.fbc4a581.svg"},R1Dz:function(e,t,n){"use strict";var a=n("q1tI");t["a"]=Object(a["createContext"])()},"S/9j":function(e,t,n){"use strict";function a(e){var t=e.split("/").filter((e=>e));return t.map(((e,n)=>"/".concat(t.slice(0,n+1).join("/"))))}n.d(t,"a",(function(){return a}))},kiEm:function(e,t,n){"use strict";n.r(t);n("+L6B");var a=n("2/Rp"),o=n("q1tI"),r=n("9kvl"),c=n("THqM"),s=(n("Pwec"),n("CtXQ")),i=(n("5NDa"),n("5rEg")),l=n("k1fw"),u=n("9og8"),b=n("tJVT"),d=n("WmNS"),j=n.n(d),h=n("nkYg"),g=n("+Ri4"),p=n.n(g),O=(n("+n12"),n("Z6YE")),x=n("jUKV"),m=n("O/14"),f=(n("2u47"),n("N82c"),n("GUrf")),v=n("4218"),k=n("cUlj"),w=n("nKUr");function y(e,t){return S.apply(this,arguments)}function S(){return S=Object(u["a"])(j.a.mark((function e(t,n){var a,o,r,c,s,i,l,b,d,h,g,p,O,x,w,y,S,T,C,E,N,I,q,A,P=arguments;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=P.length>2&&void 0!==P[2]?P[2]:m["c"],o=!(P.length>3&&void 0!==P[3])||P[3],r=P.length>4?P[4]:void 0,c=P.length>5?P[5]:void 0,s=P.length>6?P[6]:void 0,i=P.length>7?P[7]:void 0,l=P.length>8?P[8]:void 0,b=P.length>9?P[9]:void 0,d=P.length>10?P[10]:void 0,h=P.length>11?P[11]:void 0,g=P.length>12?P[12]:void 0,p=P.length>13?P[13]:void 0,O=P.length>14?P[14]:void 0,x=P.length>15?P[15]:void 0,w=P.length>16?P[16]:void 0,y=P.length>17?P[17]:void 0,S=P.length>18?P[18]:void 0,T=P.length>19?P[19]:void 0,C=P.length>20?P[20]:void 0,E=P.length>21?P[21]:void 0,N=P.length>22?P[22]:void 0,I=P.length>23?P[23]:void 0,q=P.length>24?P[24]:void 0,e.next=25,Object(u["a"])(j.a.mark((function e(){var u,A,P,L,H,D,R,F,U,W,B,M,Y,J,K,Q,z,G,V,_,X,Z,$,ee,te,ne,ae,oe,re,ce,se,ie,le,ue,be,de,je;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b(!1),d(!1),h("0"),g("0"),p(!1),O(!1),x(""),w("Loading..."),y(!1),S(""),console.log(f["c"]),u=Object(m["p"])(c,s),.01*a,A=t.address,P=t.symbol,L=t.decimals,H=t.amount,D=n.address,R=n.symbol,F=n.decimals,U=n.amount,H=H||"0",U=U||"0",s&&c){e.next=19;break}return e.abrupt("return",new m["a"]("Connect to your wallet"));case 19:if(t.symbol&&n.symbol){e.next=21;break}return e.abrupt("return",new m["a"]("Please choose tokens"));case 21:if(!o||"0"!=H){e.next=23;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 23:if(o||"0"!=U){e.next=25;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 25:if(!o||""!=H){e.next=27;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 27:if(o||""!=U){e.next=29;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 29:if(!o||!isNaN(parseFloat(H))){e.next=31;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 31:if(o||!isNaN(parseFloat(U))){e.next=33;break}return e.abrupt("return",new m["a"]("Please enter amount"));case 33:if(W="ETH"===P,B="ETH"===R,console.log(t),console.log(n),!W||!B){e.next=41;break}return w("Doesn't support ETH to ETH"),y(!1),e.abrupt("return",new m["a"]("Doesn't support ETH to ETH"));case 41:if(!(W&&"WETH"===R||"WETH"===P&&B)){e.next=45;break}return w("Invalid pair WETH/ETH"),y(!1),e.abrupt("return",new m["a"]("Invalid pair WETH/ETH"));case 45:if(console.log("ADD LIQUIDITY"),console.log("------------------ CONSTRUCT TOKEN ------------------"),M=W?f["n"][r]:new f["j"](r,A,L,P),Y=B?f["n"][r]:new f["j"](r,D,F,R),!M.equals(Y)){e.next=53;break}return w("Equal tokens"),y(!1),e.abrupt("return",new m["a"]("Equal tokens!"));case 53:return e.next=55,f["d"].fetchPairData(M,Y,c).then((e=>(console.log(e.reserve0.raw.toString()),console.log(e.reserve1.raw.toString()),e))).catch((e=>new m["a"]("".concat(M.symbol," - ").concat(Y.symbol," pool does not exist. Create one?"))));case 55:J=e.sent,console.log("pair"),console.log(J),T(J),K=!1,J instanceof m["a"]&&(K=!0),C(K),console.log("------------------ PARSE AMOUNT ------------------"),e.prev=63,Q=o?new f["k"](M,Object(k["b"])(H,L)):new f["k"](Y,Object(k["b"])(U,F)),e.next=77;break;case 67:if(e.prev=67,e.t0=e["catch"](63),console.log("parsedAmount"),console.log(e.t0),y(!1),"underflow"!==e.t0.fault){e.next=75;break}return w("Value too small"),e.abrupt("return",new m["a"](e.t0.fault));case 75:return w(K?"Enter both values":"Unhandled error"),e.abrupt("return",new m["a"]("Amount error"));case 77:if(K){e.next=124;break}if(console.log("estimated dependent amount"),!o){e.next=101;break}V=J.priceOf(M).quote(Q),e.prev=81,_=new f["k"](M,Object(k["b"])(H,L)),e.next=95;break;case 85:if(e.prev=85,e.t1=e["catch"](81),y(!1),"underflow"!==e.t1.fault){e.next=93;break}return w(e.t1.fault),e.abrupt("return",new m["a"](e.t1.fault));case 93:return w("Token or amount missing"),e.abrupt("return",new m["a"]("Token or amount missing"));case 95:z=M===f["b"]?f["a"].ether(_.raw):_,G=Y===f["b"]?f["a"].ether(V.raw):V,l(V.toFixed(5)),U=V.toExact(),e.next=122;break;case 101:V=J.priceOf(Y).quote(Q),e.prev=102,X=new f["k"](Y,Object(k["b"])(U,F)),e.next=118;break;case 106:if(e.prev=106,e.t2=e["catch"](102),console.log("token0TokenAmount"),console.log(e.t2),y(!1),"underflow"!==e.t2.fault){e.next=116;break}return w(e.t2.fault),e.abrupt("return",new m["a"](e.t2.fault));case 116:return w("Token or amount missing"),e.abrupt("return",new m["a"]("Token or amount missing"));case 118:z=M===f["b"]?f["a"].ether(V.raw):V,G=Y===f["b"]?f["a"].ether(X.raw):X,i(V.toFixed(5)),H=V.toExact();case 122:e.next=151;break;case 124:if("0"!==H&&"0"!==U){e.next=134;break}if(!K){e.next=131;break}return y(!1),w("Create new pool"),e.abrupt("return",new m["a"]("Creating a new pool, please enter both amounts"));case 131:return y(!1),w("Add liquidity"),e.abrupt("return",new m["a"]("One field is empty, it's probably a new pool"));case 134:e.prev=134,z=new f["k"](M,Object(k["b"])(H,L)),G=new f["k"](Y,Object(k["b"])(U,F)),e.next=151;break;case 139:if(e.prev=139,e.t3=e["catch"](134),console.log("parsedToken0Amount and parsedToken1Amount"),console.log(e.t3),y(!1),"underflow"!==e.t3.fault){e.next=149;break}return w(e.t3.fault),e.abrupt("return",new m["a"](e.t3.fault));case 149:return w("Value must be a number"),e.abrupt("return",new m["a"]("Value must be a number"));case 151:return E(z),N(G),console.log("------------------ CHECK BALANCE ------------------"),e.next=156,Object(m["t"])(W?f["b"]:new f["j"](r,A,L,P),s,c);case 156:return Z=e.sent,e.next=159,Object(m["t"])(B?f["b"]:new f["j"](r,D,F,R),s,c);case 159:$=e.sent,console.log("token0 balance"),console.log(Z),console.log("token1 balance"),console.log($),e.prev=164,ee=Z.gte(Object(k["b"])(H,L))&&$.gte(Object(k["b"])(U,F)),e.next=180;break;case 168:if(e.prev=168,e.t4=e["catch"](164),console.log(ee),console.log(e.t4),y(!1),"underflow"!==e.t4.fault){e.next=178;break}return w(e.t4.fault),e.abrupt("return",new m["a"](e.t4.fault));case 178:return w("userHasSufficientBalance"),e.abrupt("return",new m["a"]("unknow error"));case 180:if(ee){e.next=184;break}return w("Not enough balance"),y(!1),e.abrupt("return",new m["a"]("Not enough balance"));case 184:if(console.log("------------------ BREAKDOWN ------------------"),K){e.next=208;break}return e.next=188,Object(m["r"])(J.liquidityToken,c,s);case 188:te=e.sent,console.log("Liquidity Minted"),console.log(J.liquidityToken),e.prev=191,ne=J.getLiquidityMinted(te,z,G),ae=new f["g"](ne.raw,te.add(ne).raw).toFixed(4),x(["Pool reserve: ".concat(J.reserve0.toFixed(3)," ").concat(J.token0.symbol," + ").concat(J.reserve1.toFixed(3)," ").concat(J.token1.symbol),"Pool share: ".concat(ae,"%")]),e.next=206;break;case 197:if(e.prev=197,e.t5=e["catch"](191),!(e.t5 instanceof f["e"])){e.next=203;break}return w("Insufficient reserve!"),y(!1),e.abrupt("return",new m["a"]("Insufficient reserve!"));case 203:return w("Unhandled exception!"),y(!1),e.abrupt("return",new m["a"]("Unhandled exception!"));case 206:e.next=209;break;case 208:x(["Ready to create ".concat(P," ").concat(R," liquidity pool.")]);case 209:if(console.log("------------------ ALLOWANCE ------------------"),oe=0,W){e.next=218;break}return e.next=214,Object(m["i"])(A,z.raw.toString(),c,s);case 214:re=e.sent,console.log("token 0 approved?"),console.log(re),re||(console.log("Not enough allowance"),h(z.raw.toString()),b(!0),p(!0),oe+=1);case 218:if(B){e.next=226;break}return console.log("Inside addLiquidity, amount needed: ".concat(G.raw.toString())),e.next=222,Object(m["i"])(D,G.raw.toString(),c,s);case 222:ce=e.sent,console.log("token 1 approved?"),console.log(ce),ce||(console.log("Not enough allowance for token1"),g(G.raw.toString()),d(!0),O(!0),oe+=2);case 226:if(!(oe>0)){e.next=230;break}return y(!1),w("Need approval"),e.abrupt("return",new m["a"]("Need approve ".concat(1===oe?P:2===oe?R:"".concat(P," and ").concat(R))));case 230:y(!0),w(K?"Create a new pool":"Add liquidity"),console.log("------------------ PREPARE ADD LIQUIDITY ------------------"),console.log("parsed token 0 amount"),console.log(z.raw),console.log("parsed token 1 amount"),console.log(G.raw),console.log("slippage"),console.log(a),W||B?(se=u.estimateGas.addLiquidityETH,ie=u.addLiquidityETH,be=W?Y:M,de=W?G:z,je=W?Object(m["h"])(z,K?0:a)[0].toString():Object(m["h"])(G,K?0:a)[0].toString(),le=[be.address,de.raw.toString(),Object(m["h"])(de,K?0:a)[0].toString(),je,s,"0x".concat((Math.floor((new Date).getTime()/1e3)+60).toString(16))],ue=v["a"].from((B?G:z).raw.toString()),console.log(ue)):(se=u.estimateGas.addLiquidity,ie=u.addLiquidity,le=[A,D,z.raw.toString(),G.raw.toString(),Object(m["h"])(z,K?0:a)[0].toString(),Object(m["h"])(G,K?0:a)[0].toString(),s,"0x".concat((Math.floor((new Date).getTime()/1e3)+60).toString(16))],ue=null),console.log("args"),console.log(le),console.log("estimate"),console.log(se),console.log("method"),console.log(ie),console.log("value"),console.log(ue),I(le),q(ue);case 250:case"end":return e.stop()}}),e,null,[[63,67],[81,85],[102,106],[134,139],[164,168],[191,197]])})))();case 25:A=e.sent,A instanceof m["a"]?w(A.getErrorText()):console.log(A);case 27:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function T(e,t){return C.apply(this,arguments)}function C(){return C=Object(u["a"])(j.a.mark((function e(t,n){var a,o,r,c,s,i,b,d,h,g,p,O,x,v,k=arguments;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=k.length>2&&void 0!==k[2]?k[2]:m["c"],!(k.length>3&&void 0!==k[3])||k[3],o=k.length>4?k[4]:void 0,r=k.length>5?k[5]:void 0,c=k.length>6?k[6]:void 0,s=k.length>7?k[7]:void 0,i=k.length>8?k[8]:void 0,b=k.length>9?k[9]:void 0,d=k.length>10?k[10]:void 0,h=k.length>11?k[11]:void 0,g=k.length>12?k[12]:void 0,p=k.length>13?k[13]:void 0,O=k.length>14?k[14]:void 0,e.next=15,Object(u["a"])(j.a.mark((function e(){var u,p,O,x,v,k,w,y,S,T,C,E,N,I;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(f["c"]),u=Object(m["p"])(r,c),p=t.address,O=t.symbol,x=t.decimals,t.amount,v=n.address,k=n.symbol,w=n.decimals,n.amount,y="ETH"===O,S="ETH"===k,console.log("------------------ RECEIVED TOKEN ------------------"),console.log("token0"),console.log(t),console.log("token1"),console.log(n),!y||!S){e.next=13;break}return e.abrupt("return",new m["a"]("Doesn't support ETH to ETH"));case 13:if(!(y&&"WETH"===k||"WETH"===O&&S)){e.next=15;break}return e.abrupt("return",new m["a"]("Invalid pair WETH/ETH"));case 15:if(console.log("ADD LIQUIDITY"),console.log("------------------ CONSTRUCT TOKEN ------------------"),T=y?f["n"][o]:new f["j"](o,p,x,O),C=S?f["n"][o]:new f["j"](o,v,w,k),!T.equals(C)){e.next=21;break}return e.abrupt("return",new m["a"]("Equal tokens!"));case 21:return console.log("------------------ CONSTRUCT PAIR ------------------"),console.log("FETCH pair"),console.log(s),console.log(i),console.log("------------------ PARSE AMOUNT ------------------"),console.log(b),console.log(d),console.log("------------------ CHECK BALANCE ------------------"),console.log("------------------ BREAKDOWN ------------------"),console.log("------------------ ALLOWANCE ------------------"),console.log("------------------ PREPARE ADD LIQUIDITY ------------------"),y||S?(E=u.estimateGas.addLiquidityETH,N=u.addLiquidityETH,console.log(h),console.log(g)):(E=u.estimateGas.addLiquidity,N=u.addLiquidity,console.log(h),console.log(g)),console.log("parsed token 0 amount"),console.log(b.raw),console.log("parsed token 1 amount"),console.log(d.raw),console.log("slippage"),console.log(a),console.log(E),console.log(N),console.log(h),console.log(g),e.next=45,E(...h,g?{value:g}:{}).then((e=>N(...h,Object(l["a"])(Object(l["a"])({},g?{value:g}:{}),{},{gasLimit:Object(m["g"])(e)})).catch((e=>new m["a"]("CustomError in transaction")))));case 45:return I=e.sent,e.abrupt("return",I);case 47:case"end":return e.stop()}}),e)})))();case 15:return x=e.sent,x instanceof m["a"]?p(x.getErrorText()):(console.log("status"),console.log(x),v="https://rinkeby.etherscan.io/tx/"+x.hash,O(x),p(Object(w["jsx"])("a",{href:v,target:"_blank",children:"View it on etherscan"}))),e.abrupt("return");case 18:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}var E,N,I=n("QEXP"),q=n.n(I),A=n("wd/R"),P=n.n(A),L=c["t"].AcyTabPane,H=e=>{var t=e.dispatch,n=e.onLoggedIn,r=Object(o["useState"])(null),d=Object(b["a"])(r,2),g=d[0],f=d[1],v=Object(o["useState"])(!0),k=Object(b["a"])(v,2),S=k[0],C=k[1],E=Object(o["useState"])(h["a"][0]),N=Object(b["a"])(E,2),I=N[0],A=N[1],H=Object(o["useState"])(h["a"][1]),D=Object(b["a"])(H,2),R=D[0],F=D[1],U=Object(o["useState"])("0"),W=Object(b["a"])(U,2),B=W[0],M=W[1],Y=Object(o["useState"])("0"),J=Object(b["a"])(Y,2),K=J[0],Q=J[1],z=Object(o["useState"])(),G=Object(b["a"])(z,2),V=G[0],_=G[1],X=Object(o["useState"])(),Z=Object(b["a"])(X,2),$=Z[0],ee=Z[1],te=Object(o["useState"])(!1),ne=Object(b["a"])(te,2),ae=ne[0],oe=ne[1],re=Object(o["useState"])(!1),ce=Object(b["a"])(re,2),se=ce[0],ie=ce[1],le=Object(o["useState"])(!0),ue=Object(b["a"])(le,2),be=ue[0],de=ue[1],je=Object(o["useState"])(m["c"]/100),he=Object(b["a"])(je,2),ge=he[0],pe=he[1],Oe=Object(o["useState"])(m["c"]/100),xe=Object(b["a"])(Oe,2),me=xe[0],fe=xe[1],ve=Object(o["useState"])(""),ke=Object(b["a"])(ve,2),we=ke[0],ye=ke[1],Se=Object(o["useState"])(!1),Te=Object(b["a"])(Se,2),Ce=Te[0],Ee=Te[1],Ne=Object(o["useState"])(!1),Ie=Object(b["a"])(Ne,2),qe=Ie[0],Ae=Ie[1],Pe=Object(o["useState"])("0"),Le=Object(b["a"])(Pe,2),He=Le[0],De=Le[1],Re=Object(o["useState"])("0"),Fe=Object(b["a"])(Re,2),Ue=Fe[0],We=Fe[1],Be=Object(o["useState"])(!1),Me=Object(b["a"])(Be,2),Ye=Me[0],Je=Me[1],Ke=Object(o["useState"])(!1),Qe=Object(b["a"])(Ke,2),ze=Qe[0],Ge=Qe[1],Ve=Object(o["useState"])(),_e=Object(b["a"])(Ve,2),Xe=_e[0],Ze=_e[1],$e=Object(o["useState"])("Connect to wallet"),et=Object(b["a"])($e,2),tt=et[0],nt=et[1],at=Object(o["useState"])(!0),ot=Object(b["a"])(at,2),rt=ot[0],ct=ot[1],st=Object(o["useState"])(),it=Object(b["a"])(st,2),lt=it[0],ut=it[1],bt=Object(o["useState"])(),dt=Object(b["a"])(bt,2),jt=dt[0],ht=dt[1],gt=Object(o["useState"])(),pt=Object(b["a"])(gt,2),Ot=pt[0],xt=pt[1],mt=Object(o["useState"])(),ft=Object(b["a"])(mt,2),vt=ft[0],kt=ft[1],wt=Object(o["useState"])(),yt=Object(b["a"])(wt,2),St=yt[0],Tt=yt[1],Ct=Object(o["useState"])(),Et=Object(b["a"])(Ct,2),Nt=Et[0],It=Et[1],qt=Object(o["useState"])(),At=Object(b["a"])(qt,2),Pt=At[0],Lt=At[1],Ht=Object(o["useState"])(""),Dt=Object(b["a"])(Ht,2),Rt=Dt[0],Ft=Dt[1],Ut=Object(o["useState"])(h["a"]),Wt=Object(b["a"])(Ut,2),Bt=Wt[0],Mt=Wt[1],Yt=Object(o["useState"])(!1),Jt=Object(b["a"])(Yt,2),Kt=Jt[0],Qt=Jt[1],zt=Object(o["useState"])(!1),Gt=Object(b["a"])(zt,2),Vt=Gt[0],_t=Gt[1],Xt=e=>{Ft(e.target.value),Mt(h["a"].filter((t=>t.symbol.includes(e.target.value.toUpperCase()))))},Zt=Object(o["useState"])([]),$t=Object(b["a"])(Zt,2),en=($t[0],$t[1],Object(O["b"])()),tn=en.account,nn=en.chainId,an=en.library,on=en.activate,rn=new x["a"]({supportedChainIds:[1,3,4,5,42,80001]});Object(o["useEffect"])((()=>{on(rn);var e=JSON.parse(localStorage.getItem("tokens_symbol"));null!=e&&gn(h["a"].filter((t=>e.includes(t.symbol))))}),[tn]);var cn=Object(o["useCallback"])(Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(I&&R){e.next=2;break}return e.abrupt("return");case 2:if(be){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,y(Object(l["a"])(Object(l["a"])({},I),{},{amount:V}),Object(l["a"])(Object(l["a"])({},R),{},{amount:$}),100*ge,be,nn,an,tn,_,ee,Ee,Ae,De,We,Je,Ge,Ze,nt,ct,ut,ht,xt,kt,Tt,It,Lt);case 6:case"end":return e.stop()}}),e)}))),[I,R,V,$,ge,be,nn,an,tn]),sn=Object(o["useCallback"])(Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(I&&R){e.next=2;break}return e.abrupt("return");case 2:if(!be){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,y(Object(l["a"])(Object(l["a"])({},I),{},{amount:V}),Object(l["a"])(Object(l["a"])({},R),{},{amount:$}),100*ge,be,nn,an,tn,_,ee,Ee,Ae,De,We,Je,Ge,Ze,nt,ct,ut,ht,xt,kt,Tt,It,Lt);case 6:case"end":return e.stop()}}),e)}))),[I,R,V,$,ge,be,nn,an,tn]);Object(o["useEffect"])((()=>{cn()}),[I,R,V,$,ge,be,nn,an,tn]),Object(o["useEffect"])((()=>{sn()}),[I,R,V,$,ge,be,nn,an,tn]),Object(o["useEffect"])((()=>{void 0==tn?(ct(!0),nt("Connect to Wallet")):(nt("Choose tokens and amount"),ct(!1),n())}),[nn,an,tn]),Object(o["useEffect"])((()=>{var e=()=>document.getElementById("liquidity-token-search-input").focus();!0===g&&setTimeout(e,100)}),[g]);var ln=()=>{f(!0)},un=()=>{f(!1)};Object(o["useEffect"])((()=>{function e(){return t.apply(this,arguments)}function t(){return t=Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oe(!0),ie(!0),e.t0=M,e.next=5,Object(m["s"])(I,nn,tn,an);case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=Q,e.next=10,Object(m["s"])(R,nn,tn,an);case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}tn&&nn&&an&&(console.log("get balances in liquidity"),e())}),[tn,nn,an,I,R]);var bn=function(){var e=Object(u["a"])(j.a.mark((function e(t){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(un(),!S){e.next=15;break}if(void 0!=tn){e.next=6;break}alert("Please connect to your account"),e.next=13;break;case 6:return A(t),e.t0=M,e.next=10,Object(m["s"])(t,nn,tn,an);case 10:e.t1=e.sent,(0,e.t0)(e.t1),oe(!0);case 13:e.next=26;break;case 15:if(void 0!=tn){e.next=19;break}alert("Please connect to your account"),e.next=26;break;case 19:return F(t),e.t2=Q,e.next=23,Object(m["s"])(t,nn,tn,an);case 23:e.t3=e.sent,(0,e.t2)(e.t3),ie(!0);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=Object(o["useState"])([]),jn=Object(b["a"])(dn,2),hn=jn[0],gn=jn[1],pn=e=>{gn((t=>{var n=[...t];if(n.includes(e)){var a=n.filter((t=>t!=e));return localStorage.setItem("token",JSON.stringify(a.map((e=>e.addressOnEth)))),localStorage.setItem("tokens_symbol",JSON.stringify(a.map((e=>e.symbol)))),a}return n.push(e),localStorage.setItem("token",JSON.stringify(n.map((e=>e.addressOnEth)))),localStorage.setItem("tokens_symbol",JSON.stringify(n.map((e=>e.symbol)))),n}))},On=n=>{console.log("test status:",n);var a=e.transaction.transactions,o=a.filter((e=>e.hash==n.hash)).length;console.log("is current dispatched? ",o),0==o&&t({type:"transaction/addTransaction",payload:{transactions:[...a,{hash:n.hash}]}});var r=setInterval((()=>{an.getTransactionReceipt(n.hash).then(function(){var e=Object(u["a"])(j.a.mark((function e(o){var c,s;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("receipt ",o),!o){e.next=11;break}return clearInterval(r),e.next=5,an.getBlock(o.logs[0].blockNumber).then((e=>{c=P()(parseInt(1e3*e.timestamp)).format("YYYY-MM-DD HH:mm:ss"),console.log("test transactionTime: ",c)}));case 5:s=a.filter((e=>e.hash!=n.hash)),t({type:"transaction/addTransaction",payload:{transactions:[...s,{hash:n.hash,transactionTime:c}]}}),ct(!0),console.log(tt),nt(tt),console.log("state should be updated to : ",[...s,{hash:n.hash,transactionTime:c}]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),500)},xn=e.liquidity;return console.log("liquidity state: ",xn),Object(o["useEffect"])(Object(u["a"])(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("liquidity updated"),console.log("liquidity state: ",xn),t=xn.token0,n=xn.token1,console.log("new tokens to set in addComponent, ",t,n),!t||!n){e.next=22;break}return t=Bt.filter((e=>e.symbol===t.symbol))[0],n=Bt.filter((e=>e.symbol===n.symbol))[0],console.log("fetched token ds",t,n),A(t),e.t0=M,e.next=12,Object(m["s"])(t,nn,tn,an);case 12:return e.t1=e.sent,(0,e.t0)(e.t1),oe(!0),F(n),e.t2=Q,e.next=19,Object(m["s"])(n,nn,tn,an);case 19:e.t3=e.sent,(0,e.t2)(e.t3),ie(!0);case 22:case"end":return e.stop()}}),e)}))),[xn]),Object(w["jsxs"])("div",{children:[Object(w["jsx"])(c["j"],{icon:"eth",title:ae&&"Balance: ".concat(parseFloat(B).toFixed(5)),logoURI:I&&I.logoURI,coin:I&&I.symbol||"Select",yuan:"566.228",dollar:"".concat(B),token:V,onChoseToken:Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ln(),C(!0);case 2:case"end":return e.stop()}}),e)}))),onChangeToken:e=>{console.log("onChangeToken"),de(!0),_(e)}}),Object(w["jsx"])("div",{style:{margin:"12px auto",textAlign:"center"},children:Object(w["jsx"])(c["l"],{width:21.5,name:"plus_light"})}),Object(w["jsx"])(c["j"],{icon:"eth",title:se&&"Balance: ".concat(parseFloat(K).toFixed(5)),logoURI:R&&R.logoURI,coin:R&&R.symbol||"Select",yuan:"566.228",dollar:"".concat(K),token:$,onChoseToken:Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ln(),C(!1);case 2:case"end":return e.stop()}}),e)}))),onChangeToken:e=>{de(!1),ee(e)}}),Object(w["jsx"])(c["k"],{children:Xe&&Object(w["jsxs"])(w["Fragment"],{children:[Object(w["jsx"])("div",{className:p.a.breakdownTopContainer,children:Object(w["jsxs"])("div",{className:p.a.slippageContainer,children:[Object(w["jsx"])("span",{style:{fontWeight:600},children:"Slippage tolerance"}),Object(w["jsxs"])("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"7px"},children:[Object(w["jsx"])(a["a"],{type:"link",style:{marginRight:"5px"},children:"Auto"}),Object(w["jsx"])(i["a"],{value:me||"",onChange:e=>{fe(e.target.value)},suffix:Object(w["jsx"])("strong",{children:"%"})}),Object(w["jsx"])(a["a"],{type:"primary",style:{marginLeft:"10px",background:"#2e3032",borderColor:"transparent"},onClick:()=>{isNaN(me)?ye("Please input valid slippage value!"):(ye(""),pe(parseFloat(me)))},children:"Set"})]}),we.length>0&&Object(w["jsx"])("span",{style:{fontWeight:600,color:"#c6224e"},children:we})]})}),Object(w["jsx"])("div",{className:p.a.acyDescriptionContainer,children:Xe.map((e=>Object(w["jsx"])(c["k"].Item,{children:Object(w["jsx"])("div",{className:p.a.acyDescriptionItem,children:e})})))})]})}),1==Ye&&Object(w["jsxs"])("div",{children:[Object(w["jsxs"])(c["d"],{variant:"warning",onClick:Object(u["a"])(j.a.mark((function e(){var t;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Qt(!0),Ee(!1),e.next=4,Object(m["e"])(I.address,He,an,tn);case 4:if(t=e.sent,Ee(!0),Qt(!1),1!=t){e.next=12;break}return Ee(!1),e.next=11,y(Object(l["a"])(Object(l["a"])({},I),{},{amount:V}),Object(l["a"])(Object(l["a"])({},R),{},{amount:$}),100*ge,be,nn,an,tn,_,ee,Ee,Ae,De,We,Je,Ge,Ze,nt,ct,ut,ht,xt,kt,Tt,It,Lt);case 11:0==qe&&(Ot?ct("Create new pool"):nt("Add liquidity"),ct(!0));case 12:case"end":return e.stop()}}),e)}))),disabled:!Ce,children:["Approve ",I&&I.symbol,Kt&&Object(w["jsx"])("img",{style:{width:30,height:30,marginLeft:"1%"},src:q.a,className:p.a.spinner,alt:"spinner"})]})," "]}),1==ze&&Object(w["jsx"])("div",{children:Object(w["jsxs"])(c["d"],{variant:"warning",onClick:Object(u["a"])(j.a.mark((function e(){var t;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return _t(!0),Ae(!1),e.next=4,Object(m["e"])(R.address,Ue,an,tn);case 4:if(t=e.sent,Ae(!0),_t(!1),1!=t){e.next=12;break}return Ae(!1),e.next=11,y(Object(l["a"])(Object(l["a"])({},I),{},{amount:V}),Object(l["a"])(Object(l["a"])({},R),{},{amount:$}),100*ge,be,nn,an,tn,_,ee,Ee,Ae,De,We,Je,Ge,Ze,nt,ct,ut,ht,xt,kt,Tt,It,Lt);case 11:0==Ce&&(Ot?ct("Create new pool"):nt("Add liquidity"),ct(!0));case 12:case"end":return e.stop()}}),e)}))),disabled:!qe,children:["Approve ",R&&R.symbol,Vt&&Object(w["jsx"])("img",{style:{width:30,height:30,marginLeft:"1%"},src:q.a,className:p.a.spinner,alt:"spinner"})]})}),Object(w["jsx"])(c["d"],{variant:"success",disabled:!rt,onClick:Object(u["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!=tn){e.next=6;break}on(rn),nt("Choose tokens and amount"),ct(!1),e.next=10;break;case 6:return ct(!1),nt(Object(w["jsxs"])(w["Fragment"],{children:["Processing ",Object(w["jsx"])(s["a"],{type:"loading"})]})),e.next=10,T(Object(l["a"])(Object(l["a"])({},I),{},{amount:V}),Object(l["a"])(Object(l["a"])({},R),{},{amount:$}),100*ge,be,nn,an,tn,jt,Ot,vt,St,Nt,Pt,ut,On);case 10:case"end":return e.stop()}}),e)}))),children:tt}),Object(w["jsx"])(c["k"],{children:lt&&Object(w["jsx"])(c["k"].Item,{children:lt})}),Object(w["jsxs"])(c["p"],{onCancel:un,width:400,visible:g,children:[Object(w["jsx"])("div",{className:p.a.title,children:"Select a token"}),Object(w["jsx"])("div",{className:p.a.search,children:Object(w["jsx"])(i["a"],{size:"large",style:{backgroundColor:"#373739",borderRadius:"40px"},placeholder:"Enter the token symbol or address",value:Rt,onChange:Xt,id:"liquidity-token-search-input"})}),Object(w["jsx"])("div",{className:p.a.coinList,children:Object(w["jsxs"])(c["t"],{children:[Object(w["jsx"])(L,{tab:"All",children:Bt.map(((e,t)=>Object(w["jsx"])(c["g"],{data:e,customIcon:!1,setAsFav:()=>pn(e),selectToken:()=>{bn(e)},isFav:hn.includes(e)},t)))},"1"),Object(w["jsx"])(L,{tab:"Favorite",children:hn.map(((e,t)=>Object(w["jsx"])(c["g"],{data:e,selectToken:()=>pn(t),customIcon:!1,index:t,setAsFav:()=>pn(token),hideFavButton:!0,isFav:hn.includes(e)},t)))},"2")]})})]})]})},D=Object(r["b"])((e=>{var t=e.global,n=e.transaction,a=e.loading,o=e.liquidity;return{global:t,transaction:n,loading:a.global,liquidity:o}}))(H),R=n("zHco"),F=n("EYsQ"),U=n.n(F),W=c["t"].AcyTabPane,B=(E=Object(r["b"])((e=>{var t=e.profile,n=e.loading;return{profile:t,loading:n.effects["profile/fetchBasic"]}})),E(N=class extends o["Component"]{constructor(){super(...arguments),this.state={visible:!1,visibleConfirmOrder:!1,visibleLoading:!1,tabIndex:1,loggedIn:!1},this.lineTitleRender=()=>[Object(w["jsxs"])("div",{children:[Object(w["jsxs"])("div",{className:U.a.maintitle,children:[Object(w["jsx"])("span",{className:U.a.lighttitle,children:"ETH"}),"/BTC"]}),Object(w["jsxs"])("div",{className:U.a.secondarytitle,children:[Object(w["jsx"])("span",{className:U.a.lighttitle,children:"212.123"})," ",Object(w["jsx"])("span",{className:U.a.percentage,children:"+12.45%"})," 2021.07.11"]})]}),Object(w["jsx"])(c["q"],{onhandPeriodTimeChoose:this.onhandPeriodTimeChoose,className:U.a.pt,times:["1D","7D","1M","1Y","All"]})],this.onhandPeriodTimeChoose=e=>{console.log(e)},this.onClickCoin=()=>{this.setState({visible:!0})},this.onCancel=()=>{this.setState({visible:!1})},this.onHandModalConfirmOrder=e=>{this.setState({visibleConfirmOrder:!!e})},this.onChangeTabs=e=>{this.setState({tabIndex:e})},this.onLoggedIn=()=>{this.setState({loggedIn:!0})}}componentDidMount(){}render(){var e=this.state,t=e.visible,n=e.visibleConfirmOrder,o=e.visibleLoading,r=(e.tabIndex,e.loggedIn);return Object(w["jsxs"])(R["a"],{children:[Object(w["jsxs"])("div",{className:r?U.a.main:U.a.main_notLoggedIn,children:[Object(w["jsx"])("div",{children:r&&Object(w["jsx"])(c["o"],{})}),Object(w["jsx"])("div",{children:Object(w["jsx"])(c["e"],{style:{backgroundColor:"#0e0304",padding:"10px"},children:Object(w["jsx"])("div",{className:U.a.addLiquidity,children:Object(w["jsx"])(D,{onLoggedIn:this.onLoggedIn})})})})]}),Object(w["jsxs"])(c["p"],{onCancel:this.onCancel,width:600,visible:t,children:[Object(w["jsxs"])("div",{className:U.a.title,children:[Object(w["jsx"])(c["l"],{name:"back"})," Select a token"]}),Object(w["jsx"])("div",{className:U.a.search,children:Object(w["jsx"])(c["m"],{placeholder:"Enter the token symbol or address",suffix:Object(w["jsx"])(c["l"],{name:"search"})})}),Object(w["jsx"])("div",{className:U.a.coinList,children:Object(w["jsxs"])(c["t"],{children:[Object(w["jsxs"])(W,{tab:"All",children:[Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{}),Object(w["jsx"])(c["g"],{})]},"1"),Object(w["jsx"])(W,{tab:"Favorite"},"2"),Object(w["jsx"])(W,{tab:"Index"},"3"),Object(w["jsx"])(W,{tab:"Synth"},"4")]})})]}),Object(w["jsx"])(c["h"],{onCancel:this.onHandModalConfirmOrder,title:"Comfirm Order",visible:n,children:Object(w["jsxs"])("div",{className:U.a.confirm,children:[Object(w["jsx"])("p",{children:"ETH\uff1a 566.228"}),Object(w["jsx"])("p",{children:"BTC\uff1a2.669"}),Object(w["jsx"])("p",{children:"Price\uff1a212.123"}),Object(w["jsx"])("p",{children:"Price Impact\uff1a2.232%"}),Object(w["jsx"])("p",{children:"Liquidity Provide Fee: 0.321%"}),Object(w["jsx"])("p",{children:"Alpha: 0.371%"}),Object(w["jsx"])("p",{children:"Maximum sold: 566.221"}),Object(w["jsx"])(a["a"],{size:"large",type:"primary",children:"Confirm"})]})}),Object(w["jsx"])(c["b"],{onCancel:()=>this.setState({visibleLoading:!1}),visible:o})]})}})||N);t["default"]=B},zHco:function(e,t,n){"use strict";var a=n("PpiC"),o=n("q1tI"),r=(n("cWXX"),n("/ezw"),n("k1fw"),n("Znn+"),n("ZTPi")),c=(n("TSYQ"),n("PCKb"),n("sPJy"),n("bE4q"),n("vRGJ"),n("S/9j"),n("nKUr"));o["PureComponent"];r["a"].TabPane;o["PureComponent"];var s=n("9kvl"),i=n("GvbY"),l=n.n(i);class u extends o["PureComponent"]{render(){var e=this.props,t=e.contentWidth,n=e.children,a="".concat(l.a.main);return"Fixed"===t&&(a="".concat(l.a.main," ").concat(l.a.wide)),Object(c["jsx"])("div",{className:a,children:n})}}var b=Object(s["b"])((e=>{var t=e.setting;return{contentWidth:t.contentWidth}}))(u),d=n("U0CE"),j=n.n(d),h=(n("R1Dz"),e=>{var t=e.children,n=(e.contentWidth,e.wrapperClassName),o=e.top;Object(a["a"])(e,["children","contentWidth","wrapperClassName","top"]);return Object(c["jsxs"])("div",{style:{margin:"-24px -24px 0"},className:n,children:[o,t?Object(c["jsx"])("div",{className:j.a.content,children:Object(c["jsx"])(b,{children:t})}):null]})});t["a"]=Object(s["b"])((e=>{var t=e.setting;return{contentWidth:t.contentWidth}}))(h)}}]);