(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},9:function(t,e){},UeSS:function(t,e,a){"use strict";a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return m})),a.d(e,"b",(function(){return j})),a.d(e,"d",(function(){return k})),a.d(e,"e",(function(){return F})),a.d(e,"i",(function(){return A})),a.d(e,"m",(function(){return N})),a.d(e,"l",(function(){return D})),a.d(e,"k",(function(){return P})),a.d(e,"g",(function(){return M})),a.d(e,"h",(function(){return I})),a.d(e,"f",(function(){return L})),a.d(e,"j",(function(){return B}));a("rAM+"),a("9og8"),a("tJVT");var n=a("k1fw"),i=(a("WmNS"),a("One0")),r=a.n(i),c=a("wDBh"),o=a("6cT+"),s=a.n(o),l=56,u=42161,d=(c["a"].BigNumber,400),m=65,b="#22c761",p="#f93333",j=["#ee64b8",b,"#ff8d00","#00bfea","#8884ff","#ab6100","#c90000","#7b7b7b","#6464ff","purple","darkgreen",p,"#eb5c20"];function v(t){return r()({level:"info",prefix:e=>{"[".concat(t,"] ").concat(e.toUpperCase());return"#fff"}})}v("helpers");var h=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),O=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:1}),f=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),y=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),x=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:1}),g=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2});function k(t,e){var a,i=e.period,r=e.from,c=e.to,o=e.interpolate,s=void 0===o||o,l=e.extrapolate,u=void 0!==l&&l,d=0,m=r?r-i:t[0].timestamp,b=Math.floor(m/i),p=[];while(d<t.length){var j=t[d],v=Math.floor(j.timestamp/i);if(v-1>b){var h=v-b,O=1;while(O<h){var f={timestamp:(b+O)*i};s&&(f=Object(n["a"])(Object(n["a"])({},a),f)),p.push(f),O++}}if(p.push(j),c&&d===t.length-1){var y=Math.floor(c/i);if(y>v){var x=y-v,g=0;while(g<x){var k={timestamp:(v+g+1)*i};u&&(k=Object(n["a"])(Object(n["a"])({},j),k)),p.push(k),g++}}}a=j,b=v,d++}return p}function C(t){var e=Math.abs(t);return e<10?f:e<1e3?O:h}function w(t){var e=Math.abs(t);return e<10?g:e<1e3?x:y}var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!!e.currency,n=!!e.compact;if(a&&!n)return w(t).format(t);var i=n?S(t):C(t).format(t);return a?"$".concat(i):i},S=t=>{var e=Math.abs(t);return e>=1e9?"".concat((t/1e9).toFixed(e<1e10?2:1),"B"):e>=1e6?"".concat((t/1e6).toFixed(e<1e7?2:1),"M"):e>=1e3?"".concat((t/1e3).toFixed(e<1e4?2:1),"K"):"".concat(t.toFixed(1))},A=(t,e)=>{if(t){t.constructor!==Date&&(t=new Date(1e3*t));var a=e&&e[0]&&e[0].payload&&e[0],n="%d.%m",i=s()(n,t),r=a&&a.payload.all;return r?a&&"%"===a.unit?i:"".concat(i,", ").concat(F(r,{currency:!0,compact:!0})):i}},N=t=>t.toFixed(2)+"%",D=t=>S(t),P=function(t){return F(t,{currency:!0,compact:!0})},M=(t,e,a)=>F(t),I=(t,e,a)=>t.toFixed(2)+"%",L=(t,e,a)=>a&&"%"===a.unit?t.toFixed(2):F(t,{currency:!0}),B=(t,e)=>{if(!t)return t;if(t.constructor!==Date&&(t=new Date(1e3*t),!t.getDate()))return t;var a=s()("%d.%m",t),n=e&&e[0];if(n&&"%"===n.unit)return a;var i=n&&n.payload.all;return t.constructor!==Date?"".concat(t,", total: ").concat(i):"".concat(a,", total: ").concat(i)};function U(t){var e;if(t===l?e="https://bsc-dataseed1.defibit.io/":t===u&&(e="https://arb1.arbitrum.io/rpc"),!e)throw Error("Unsupported chainId: ".concat(t));return new c["a"].providers.JsonRpcProvider(e,t)}U(l)},gn6G:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("q1tI");var n=a("TSYQ"),i=a.n(n),r=(a("UzZe"),a("nKUr"));function c(t){var e=t.options,a=t.option,n=t.onChange,c=t.type,o=void 0===c?"block":c,s=t.icons,l=t=>{n&&n(t)};return Object(r["jsx"])("div",{className:i()("Tab",o),children:e.map((t=>{var e=t;return Object(r["jsxs"])("div",{className:i()("Tab-option","muted",{active:t===a}),onClick:()=>l(t),children:[s&&s[t]&&Object(r["jsx"])("img",{className:"Tab-option-icon",src:s[t],alt:a}),e]},t)}))})}},jiPK:function(t,e,a){"use strict";a.r(e);var n=a("k1fw"),i=a("tJVT"),r=a("q1tI"),c=a.n(r),o=a("Ty5D"),s=a("k+Dj"),l=a("Z3mj"),u=a("wd/R"),d=a.n(u),m=a("v7au"),b=a("TSYQ"),p=a.n(b),j=(a("Qc6h"),a("zFVU")),v=a.n(j),h=a("UeSS"),O=(a("0Ef2"),a("ps87")),f=a("4cdY"),y=a("y9N3"),x=a("J+eN"),g=a("b+jq"),k=a("nJDY"),C=a("Yjvw"),w=a("wcMh"),F=a("0d+u"),S=a("2Ovm"),A=a("J1Zg"),N=a("BChI"),D=a("zb4o"),P=a("nKUr");var M=a("t7U6");function I(t){var e,a=t.loading,i=t.title,r=t.data,o=t.description,s=t.height,l=void 0===s?h["a"]:s,u=t.yaxisWidth,d=(void 0===u&&h["c"],t.yaxisDataKey),m=void 0===d?"all":d,b=t.yaxisTickFormatter,p=void 0===b?h["k"]:b,j=t.yaxisDomain,v=t.xaxisDataKey,A=void 0===v?"timestamp":v,N=t.xaxisTickFormatter,I=void 0===N?h["i"]:N,L=t.tooltipFormatter,B=void 0===L?h["f"]:L,U=t.tooltipLabelFormatter,T=void 0===U?h["i"]:U,E=t.items,K=t.type,q=t.syncId,_=t.children,W=t.rightYaxisDataKey;t.isCoinChart;e="Line"===K?f["a"]:"Bar"===K?M["a"]:F["a"];var G=(E||[]).map(((t,e)=>{var a={type:"monotone",dataKey:t.key,stackId:"a",name:t.name||t.key,fill:t.color||h["b"][e%h["b"].length],stroke:t.color||h["b"][e%h["b"].length],dot:t.dot||!1,key:"item-"+e,unit:t.unit,strokeWidth:t.strokeWidth,yAxisId:t.yAxisId};return"Line"===t.type||"Line"===K?Object(P["jsx"])(w["a"],Object(n["a"])(Object(n["a"])({},a),{},{isAnimationActive:!1})):Object(P["jsx"])(S["a"],Object(n["a"])(Object(n["a"])({},a),{},{isAnimationActive:!1}))})),z=E.map((t=>({key:t.key,name:t.name})));return Object(P["jsxs"])(D["a"],{title:i,loading:a,data:r,csvFields:z,children:[Object(P["jsx"])(O["a"],{width:"100%",height:l,children:c.a.createElement(e,{data:r,syncId:q},[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"},"a"),Object(P["jsx"])(x["a"],{dataKey:A,tickFormatter:I,minTickGap:30},"b"),Object(P["jsx"])(g["a"],{domain:j,dataKey:m,tickFormatter:p},"c"),W?Object(P["jsx"])(g["a"],{dataKey:W,tickFormatter:p,orientation:"right",yAxisId:"right"},"c2"):null,Object(P["jsx"])(k["a"],{formatter:B,labelFormatter:T,contentStyle:{textAlign:"left"}},"d"),Object(P["jsx"])(C["a"],{},"e"),...G,_])}),o&&Object(P["jsx"])("div",{className:"chart-description",children:o})]})}a("Pwec");var L=a("CtXQ"),B=a("U/Lg"),U=(a("MT78"),a("75ce"),a("AH3D"),a("Ynxi"),a("/KAt")),T=a.n(U),E=[["2000-06-05",116,200],["2000-06-06",129,201],["2000-06-07",135,202],["2000-06-08",86,203],["2000-06-09",73,204],["2000-06-10",85,205],["2000-06-11",73,206],["2000-06-12",68,207],["2000-06-13",92,208],["2000-06-14",130,209],["2000-06-15",245,210],["2000-06-16",139,211],["2000-06-17",115,212],["2000-06-18",111,213],["2000-06-19",309,214],["2000-06-20",206,215],["2000-06-21",137,216],["2000-06-22",1e3,217],["2000-06-23",85,218],["2000-06-24",94,219],["2000-06-25",71,220],["2000-06-26",106,221],["2000-06-27",84,222],["2000-06-28",93,223],["2000-06-29",85,224],["2000-06-30",73,225],["2000-07-01",83,226],["2000-07-02",125,227],["2000-07-03",107,228],["2000-07-04",82,229],["2000-07-05",44,230],["2000-07-06",72,231],["2000-07-07",106,232],["2000-07-08",107,233],["2000-07-09",66,234],["2000-07-10",91,245],["2000-07-11",92,236],["2000-07-12",113,256],["2000-07-13",107,226],["2000-07-14",131,246],["2000-07-15",111,226],["2000-07-16",64,256],["2000-07-17",69,246],["2000-07-18",88,256],["2000-07-19",77,286],["2000-07-20",83,206],["2000-07-21",111,226],["2000-07-22",57,226],["2000-07-23",55,246],["2000-07-24",60,276]],K=t=>{var e=t.title,a=t.data,n=t.loading,c=Object(r["useState"])(0),o=Object(i["a"])(c,2);o[0],o[1];Object(r["useEffect"])((()=>{}),[a]);var s=t=>{var e=t[0].dataIndex;return'\n      <span style="color :#b5b5b6"> '.concat(d(a[e].timestamp)," , ").concat(l(a[e].all),'</span></br>\n      <span style="color :').concat(h["b"][1],'">Mint  ALP  : ').concat(a[e].mint?l(a[e].mint):"-",'</span></br>\n      <span style="color :').concat(h["b"][2],'">Burn ALP  : ').concat(a[e].burn?l(a[e].burn):"-",'</span></br>\n      <span style="color :').concat(h["b"][3],'">Liquidation  : ').concat(a[e].liquidation?l(a[e].liquidation):"-",'</span></br>\n      <span style="color :').concat(h["b"][4],'">Margin trading  : ').concat(a[e].margin?l(a[e].margin):"-",'</span></br>\n      <span style="color :').concat(h["b"][0],'">Cumulative  : ').concat(a[e].cumulative?l(a[e].cumulative):"-","</span></br>\n    ")},l=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),u=t=>{var e=t,a=new Date(1e3*e),n=(a.getFullYear(),"0"+(0==a.getMonth()?"12":a.getMonth())),i="0"+a.getDate(),r=n.slice(-2)+"."+i.slice(-2);return r},d=t=>{var e=t,a=new Date(1e3*e),n=a.getFullYear(),i="0"+(0==a.getMonth()?"12":a.getMonth()),r=(a="0"+a.getDate(),n+"."+i.slice(-2)+"."+a.slice(-2));return r},m=()=>{var t=a;a||(t=E);var e=t.map((function(t){return t.timestamp})),n=t.map((function(t){return parseInt(t.cumulative)})),i=t.map((function(t){return parseInt(t.mint)})),r=t.map((function(t){return parseInt(t.burn)})),c=t.map((function(t){return parseInt(t.liquidation)})),o=t.map((function(t){return parseInt(t.margin)})),l=!0,d={grid:{left:"2%",right:"2%",top:"top"},legend:{data:["Mint ALP","Burn ALP","Liquidation","Margin trading","Cumulative"],top:"bottom",textStyle:{color:"#FFF"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:s},xAxis:{show:l,splitNumber:5,boundaryGap:!1,data:e.map((function(t){return u(t)})),axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},yAxis:[{show:!1,type:"value",splitLine:{show:!0},axisTick:{show:!1},axisLine:{show:!1}},{show:!1,type:"value",splitLine:{show:!0},axisTick:{show:!1},axisLine:{show:!1}}],series:[{data:i,type:"bar",stack:!0,name:"Mint ALP",smooth:1,showSymol:!1,itemStyle:{normal:{color:h["b"][1],width:2}}},{data:r,type:"bar",name:"Burn ALP",stack:!0,smooth:1,showSymol:!1,itemStyle:{normal:{color:h["b"][2],width:2}}},{data:c,type:"bar",stack:!0,name:"Liquidation",smooth:1,showSymol:!1,itemStyle:{normal:{color:h["b"][3],width:2}}},{data:o,type:"bar",stack:!0,name:"Margin trading",smooth:1,showSymol:!1,itemStyle:{normal:{color:h["b"][4],width:2}}},{data:n,type:"line",yAxisIndex:1,name:"Cumulative",smooth:1,showSymbol:!1,itemStyle:{normal:{lineStyle:{color:h["b"][0],width:3}}}}]};return d};return n?Object(P["jsx"])(L["a"],{type:"loading",style:{fontSize:"16px",color:"#FFF"}}):Object(P["jsxs"])("div",{className:T.a.chartSectionMain,children:[Object(P["jsx"])("div",{className:T.a.graphStats,children:Object(P["jsx"])("div",{className:T.a.statName,children:e})}),Object(P["jsx"])("div",{className:T.a.chartWrapper,children:Object(P["jsx"])(B["a"],{style:{height:"100%"},option:m(),notMerge:!0,lazyUpdate:!1,theme:"theme_name",ref:t=>{},onEvents:null})})]})},q=K,_=a("gn6G"),W=a("wX4H"),G=(s["a"],l["utils"].formatUnits,Math.floor(Date.now()/1e3)),z=t=>{var e=86400,a=Object(r["useState"])(e),c=Object(i["a"])(a,2),s=c[0],l=(c[1],Object(r["useState"])()),u=Object(i["a"])(l,2),b=u[0],j=u[1],M=Object(r["useState"])(),L=Object(i["a"])(M,2),B=L[0],U=L[1],T=t.mode,E=Object(r["useCallback"])((t=>{j(new Date(Date.now()-1e3*t).toISOString().slice(0,10)),U(void 0)}),[j,U]),K=b?+new Date(b)/1e3:void 0,z=B?+new Date(B)/1e3:G,H={from:K,to:z,groupPeriod:s},R=Object(W["e"])(H),Y=Object(i["a"])(R,2),X=Y[0],V=Y[1],J=Object(W["n"])(H),Q=Object(i["a"])(J,2),Z=Q[0],$=Q[1],tt=Object(W["k"])(),et=Object(i["a"])(tt,1),at=et[0],nt=Object(r["useMemo"])((()=>Z?Z[Z.length-1].all:null),[Z]),it=Object(W["o"])(H),rt=Object(i["a"])(it,2),ct=(rt[0],rt[1],Object(W["f"])(H)),ot=Object(i["a"])(ct,2),st=ot[0],lt=ot[1],ut=Object(r["useMemo"])((()=>{var t,e;if(!st)return[];var a=null===(t=st[st.length-1])||void 0===t?void 0:t.cumulative,n=a-(null===(e=st[st.length-2])||void 0===e?void 0:e.cumulative);return[a,n]}),[st]),dt=Object(i["a"])(ut,2),mt=dt[0],bt=dt[1],pt=Object(W["a"])(H),jt=Object(i["a"])(pt,2),vt=jt[0],ht=jt[1],Ot=Object(r["useMemo"])((()=>{var t,e;if(!vt)return[];var a=null===(t=vt[vt.length-1])||void 0===t?void 0:t.aum,n=a-(null===(e=vt[vt.length-2])||void 0===e?void 0:e.aum);return[a,n]}),[vt]),ft=Object(i["a"])(Ot,2),yt=ft[0],xt=ft[1],gt=Object(W["d"])(H),kt=Object(i["a"])(gt,2),Ct=kt[0],wt=kt[1],Ft=Object(W["b"])(vt,st,H),St=Object(i["a"])(Ft,2),At=St[0],Nt=(St[1],Object(W["c"])(vt,st,H)),Dt=Object(i["a"])(Nt,2),Pt=Dt[0],Mt=(Dt[1],Object(W["l"])(H)),It=Object(i["a"])(Mt,2),Lt=It[0],Bt=It[1],Ut=Object(r["useMemo"])((()=>{var t,e;if(!Lt)return[];var a=null===(t=Lt.data[Lt.data.length-1])||void 0===t?void 0:t.openInterest,n=a-(null===(e=Lt.data[Lt.data.length-2])||void 0===e?void 0:e.openInterest);return[a,n]}),[Lt]),Tt=Object(i["a"])(Ut,2),Et=Tt[0],Kt=Tt[1],qt=Object(W["j"])(H),_t=Object(i["a"])(qt,2),Wt=_t[0],Gt=(_t[1],Object.keys((Wt||[]).reduce(((t,e)=>(Object.keys(e).forEach((e=>{"all"!==e&&"timestamp"!==e&&(t[e]=!0)})),t)),{})),Object(W["m"])(H)),zt=Object(i["a"])(Gt,2),Ht=zt[0],Rt=zt[1],Yt=Object(r["useMemo"])((()=>{var t,e;if(!Ht)return[null,null];var a=null===(t=Ht[Ht.length-1])||void 0===t?void 0:t.uniqueCountCumulative,n=null===(e=Ht[Ht.length-2])||void 0===e?void 0:e.uniqueCountCumulative,i=a&&n?a-n:null;return[a,i]}),[Ht]),Xt=Object(i["a"])(Yt,2),Vt=Xt[0],Jt=Xt[1],Qt=Object(W["i"])(),Zt=Object(i["a"])(Qt,1),$t=Zt[0],te=Object(W["h"])(),ee=Object(i["a"])(te,1),ae=ee[0],ne=$t&&ae&&ae.timestamp-$t.timestamp>3600,ie=Object(r["useState"])(!1),re=Object(i["a"])(ie,2),ce=re[0],oe=re[1];Object(r["useEffect"])((()=>{oe(window.localStorage.getItem("experiment"))}),[oe]);var se=!1,le=Object(r["useState"])(0),ue=Object(i["a"])(le,2),de=(ue[0],ue[1],Object(r["useState"])(0)),me=Object(i["a"])(de,2),be=(me[0],me[1],Object(r["useState"])(0)),pe=Object(i["a"])(be,2),je=(pe[0],pe[1],(t,e)=>{}),ve=Object(o["k"])(),he=Object(r["useState"])("Future"),Oe=Object(i["a"])(he,2),fe=Oe[0],ye=(Oe[1],["Market","Future","StableCoin"]),xe=t=>{ve.push("/statistics/"+t.toLowerCase())};return Object(P["jsxs"])("div",{className:v.a.container,children:[Object(P["jsx"])("div",{className:v.a.statsTab,children:Object(P["jsx"])(_["a"],{option:fe,options:ye,onChange:xe})}),Object(P["jsxs"])("div",{className:v.a.Home,children:[$t&&ae&&Object(P["jsxs"])("p",{className:p()("page-description",{warning:ne}),style:{marginTop:"-1rem"},children:[ne&&"Data is obsolete. ","Updated ",d()(1e3*$t.timestamp).fromNow(),"\xa0at block ",Object(P["jsx"])("a",{target:"_blank",href:"https://arbiscan.io/block/".concat($t.number),children:$t.number})]}),se&&Object(P["jsx"])("div",{className:"form",children:Object(P["jsxs"])("p",{children:[Object(P["jsx"])("label",{children:"Period"}),Object(P["jsx"])("input",{type:"date",value:b,onChange:t=>j(t.target.value)}),"\xa0\u2014\xa0",Object(P["jsx"])("input",{type:"date",value:B,onChange:t=>U(t.target.value)}),Object(P["jsx"])("button",{onClick:t=>E(2505600),children:"30 days"}),Object(P["jsx"])("button",{onClick:t=>E(518400),children:"7 days"})]})}),Object(P["jsxs"])("div",{className:"chart-grid",children:[Object(P["jsx"])("div",{className:"chart-cell stats",children:at?Object(P["jsxs"])(P["Fragment"],{children:[Object(P["jsx"])("div",{className:"total-stat-label",children:"Total Volume"}),Object(P["jsxs"])("div",{className:"total-stat-value",children:[Object(h["e"])(at,{currency:!0}),nt&&Object(P["jsxs"])("span",{className:"total-stat-delta plus",title:"Change since previous day",children:["+",Object(h["e"])(nt,{currency:!0,compact:!0})]})]})]}):Object(P["jsx"])(m["b"],{size:"3em",className:"loader"})}),Object(P["jsx"])("div",{className:"chart-cell stats",children:mt?Object(P["jsxs"])(P["Fragment"],{children:[Object(P["jsx"])("div",{className:"total-stat-label",children:"Total Fees"}),Object(P["jsxs"])("div",{className:"total-stat-value",children:[Object(h["e"])(mt,{currency:!0}),Object(P["jsxs"])("span",{className:"total-stat-delta plus",title:"Change since previous day",children:["+",Object(h["e"])(bt,{currency:!0,compact:!0})]})]})]}):Object(P["jsx"])(m["b"],{size:"3em",className:"loader"})}),Object(P["jsx"])("div",{className:"chart-cell stats",children:yt?Object(P["jsxs"])(P["Fragment"],{children:[Object(P["jsx"])("div",{className:"total-stat-label",children:"ALP Pool"}),Object(P["jsxs"])("div",{className:"total-stat-value",children:[Object(h["e"])(yt,{currency:!0}),Object(P["jsxs"])("span",{className:p()("total-stat-delta",xt>0?"plus":"minus"),title:"Change since previous day",children:[xt>0?"+":"",Object(h["e"])(xt,{currency:!0,compact:!0})]})]})]}):Object(P["jsx"])(m["b"],{size:"3em",className:"loader"})}),Object(P["jsx"])("div",{className:"chart-cell stats",children:Vt?Object(P["jsxs"])(P["Fragment"],{children:[Object(P["jsx"])("div",{className:"total-stat-label",children:"Total Users"}),Object(P["jsxs"])("div",{className:"total-stat-value",children:[Object(h["e"])(Vt),Object(P["jsxs"])("span",{className:"total-stat-delta plus",title:"Change since previous day",children:["+",Object(h["e"])(Jt)]})]})]}):Object(P["jsx"])(m["b"],{size:"3em",className:"loader"})}),Object(P["jsx"])("div",{className:"chart-cell stats",children:Et?Object(P["jsxs"])(P["Fragment"],{children:[Object(P["jsx"])("div",{className:"total-stat-label",children:"Open Interest"}),Object(P["jsxs"])("div",{className:"total-stat-value",children:[Object(h["e"])(Et,{currency:!0}),Object(P["jsxs"])("span",{className:p()("total-stat-delta",Kt>0?"plus":"minus"),title:"Change since previous day",children:[Kt>0?"+":"",Object(h["e"])(Kt,{currency:!0,compact:!0})]})]})]}):Object(P["jsx"])(m["b"],{size:"3em",className:"loader"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(q,{data:Z,loading:$,title:"VOLUME 24H",onHover:je})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(q,{data:st,loading:lt,title:"Fee",onHover:je})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(D["a"],{title:"AUM & ALP Supply",loading:ht,data:vt,csvFields:[{key:"aum"},{key:"alpSupply"}],children:Object(P["jsx"])(O["a"],{width:"100%",height:h["a"],children:Object(P["jsxs"])(f["a"],{data:vt,syncId:"syncAlp",children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{dataKey:"aum",tickFormatter:h["k"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["g"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,type:"monotone",strokeWidth:2,unit:"$",dot:!1,dataKey:"aum",stackId:"a",name:"AUM",stroke:h["b"][0]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,type:"monotone",strokeWidth:2,dot:!1,dataKey:"alpSupply",stackId:"a",name:"ALP Supply",stroke:h["b"][1]})]})})})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsxs"])(D["a"],{title:"ALP Price Comparison",loading:ht,data:Pt,csvFields:[{key:"syntheticPrice"},{key:"alpPrice"},{key:"alpPlusFees"},{key:"lpBtcPrice"},{key:"lpEthPrice"}],children:[Object(P["jsx"])(O["a"],{width:"100%",height:h["a"],children:Object(P["jsxs"])(f["a"],{data:Pt,syncId:"syncAlp",children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{dataKey:"performanceSyntheticCollectedFees",domain:[60,210],unit:"%",tickFormatter:h["l"],width:h["c"]}),Object(P["jsx"])(g["a"],{dataKey:"alpPrice",domain:[.4,1.7],orientation:"right",yAxisId:"right",tickFormatter:h["l"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["g"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"alpPrice",name:"ALP Price",stroke:h["b"][1],strokeWidth:1}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"alpPlusFees",name:"ALP w/ fees",stroke:h["b"][3],strokeWidth:1})]})}),Object(P["jsx"])("div",{className:"chart-description",children:Object(P["jsxs"])("p",{children:[Object(P["jsx"])("span",{style:{color:h["b"][3]},children:"ALP with fees"})," is based on ALP share of fees received and excluding esGMX rewards",Object(P["jsx"])("br",{})]})})]})}),ce&&Object(P["jsx"])("div",{className:"chart-cell experiment",children:Object(P["jsx"])(D["a"],{title:"Performance vs. Index",loading:ht,children:Object(P["jsx"])(O["a"],{width:"100%",height:h["a"],children:Object(P["jsxs"])(f["a"],{data:At,syncId:"syncAlp",children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{dataKey:"performanceSyntheticCollectedFees",domain:[80,120],unit:"%",tickFormatter:h["l"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["g"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticCollectedFees",name:"Collected Fees",stroke:h["b"][0]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticDistributedUsd",name:"Distributed Usd",stroke:h["b"][1]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticDistributedEth",name:"Distributed Eth",stroke:h["b"][2]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSynthetic",name:"No Fees",stroke:h["b"][3]})]})})})}),ce&&Object(P["jsx"])("div",{className:"chart-cell experiment",children:Object(P["jsx"])(D["a"],{title:"Performance vs. ETH LP",loading:ht,children:Object(P["jsx"])(O["a"],{width:"100%",height:h["a"],children:Object(P["jsxs"])(f["a"],{data:At,syncId:"syncAlp",children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{dataKey:"performanceLpEthCollectedFees",domain:[80,120],unit:"%",tickFormatter:h["l"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["g"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthCollectedFees",name:"Collected Fees",stroke:h["b"][0]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthDistributedUsd",name:"Distributed Usd",stroke:h["b"][1]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthDistributedEth",name:"Distributed Eth",stroke:h["b"][2]}),Object(P["jsx"])(w["a"],{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEth",name:"No Fees",stroke:h["b"][3]})]})})})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsxs"])(D["a"],{title:"Traders Net PnL",loading:Bt,data:null===Lt||void 0===Lt?void 0:Lt.data,csvFields:[{key:"pnl",name:"Net PnL"},{key:"pnlCumulative",name:"Cumulative PnL"}],children:[Object(P["jsx"])(O["a"],{width:"100%",syncId:"tradersId",height:h["a"],children:Object(P["jsxs"])(F["a"],{data:null===Lt||void 0===Lt?void 0:Lt.data,children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{domain:[1.05*-(null===Lt||void 0===Lt?void 0:Lt.stats.maxAbsOfPnlAndCumulativePnl),1.05*(null===Lt||void 0===Lt?void 0:Lt.stats.maxAbsOfPnlAndCumulativePnl)],tickFormatter:h["k"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["f"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(S["a"],{type:"monotone",fill:"dark"==T?"#FFFFFF":"#000000",dot:!1,dataKey:"pnl",name:"Net PnL",children:((null===Lt||void 0===Lt?void 0:Lt.data)||[]).map(((t,e)=>Object(P["jsx"])(A["a"],{fill:t.pnl>0?"#22c761":"#f93333"},"cell-".concat(e))))}),Object(P["jsx"])(w["a"],{type:"monotone",strokeWidth:2,stroke:h["b"][4],dataKey:"pnlCumulative",name:"Cumulative PnL"})]})}),Object(P["jsxs"])("div",{className:"chart-description",children:[Object(P["jsx"])("p",{children:"Considers settled (closed) positions"}),Object(P["jsx"])("p",{children:"Fees are not factored into PnL"})]})]})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsxs"])(D["a"],{title:"Traders Profit vs. Loss",loading:Bt,data:null===Lt||void 0===Lt?void 0:Lt.data,csvFields:[{key:"profit"},{key:"loss"},{key:"profitCumulative"},{key:"lossCumulative"}],children:[Object(P["jsx"])(O["a"],{width:"100%",syncId:"tradersId",height:h["a"],children:Object(P["jsxs"])(F["a"],{data:null===Lt||void 0===Lt?void 0:Lt.data,barGap:0,children:[Object(P["jsx"])(y["a"],{strokeDasharray:"3 3",stroke:"#333333"}),Object(P["jsx"])(x["a"],{dataKey:"timestamp",tickFormatter:h["i"],minTickGap:30}),Object(P["jsx"])(g["a"],{domain:[1.05*-(null===Lt||void 0===Lt?void 0:Lt.stats.maxProfitLoss),1.05*(null===Lt||void 0===Lt?void 0:Lt.stats.maxProfitLoss)],tickFormatter:h["k"],width:h["c"]}),Object(P["jsx"])(g["a"],{domain:[1.1*-(null===Lt||void 0===Lt?void 0:Lt.stats.maxCumulativeProfitLoss),1.1*(null===Lt||void 0===Lt?void 0:Lt.stats.maxCumulativeProfitLoss)],orientation:"right",yAxisId:"right",tickFormatter:h["k"],width:h["c"]}),Object(P["jsx"])(k["a"],{formatter:h["f"],labelFormatter:h["i"],contentStyle:{textAlign:"left"}}),Object(P["jsx"])(C["a"],{}),Object(P["jsx"])(N["a"],{yAxisId:"right",type:"monotone",stroke:0,fill:"#22c761",fillOpacity:"0.4",dataKey:"profitCumulative",name:"Cumulative Profit"}),Object(P["jsx"])(N["a"],{yAxisId:"right",type:"monotone",stroke:0,fill:"#f93333",fillOpacity:"0.4",dataKey:"lossCumulative",name:"Cumulative Loss"}),Object(P["jsx"])(S["a"],{type:"monotone",fill:"#22c761",dot:!1,dataKey:"profit",name:"Profit"}),Object(P["jsx"])(S["a"],{type:"monotone",fill:"#f93333",dot:!1,dataKey:"loss",name:"Loss"})]})}),Object(P["jsxs"])("div",{className:"chart-description",children:[Object(P["jsx"])("p",{children:"Considers settled (closed) positions"}),Object(P["jsx"])("p",{children:"Fees are not factored into PnL"})]})]})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{loading:V,title:"Borrowing Rate Annualized",data:X,yaxisDataKey:"ETH",yaxisTickFormatter:h["m"],tooltipFormatter:h["h"],items:[{key:"ETH"},{key:"BTC"},{key:"USDC"},{key:"USDT"},{key:"MATIC"}],type:"Line",yaxisDomain:[0,90],isCoinChart:!0})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{loading:Bt,title:"Open Interest",data:null===Lt||void 0===Lt?void 0:Lt.data.map((t=>Object(n["a"])({all:t.openInterest},t))),yaxisDataKey:"openInterest",items:[{key:"shortOpenInterest",name:"Short",color:"#f93333"},{key:"longOpenInterest",name:"Long",color:"#22c761"}],type:"Bar"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:wt,title:"AUM Performance Annualized",data:Ct,yaxisDataKey:"apr",yaxisTickFormatter:h["m"],tooltipFormatter:h["h"],items:[{key:"apr",name:"APR",color:h["b"][0]}],description:"Formula = Daily Fees / ALP Pool * 365 days * 100",type:"Composed"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:wt,title:"AUM Daily Usage",data:Ct,yaxisDataKey:"usage",yaxisTickFormatter:h["m"],tooltipFormatter:h["h"],items:[{key:"usage",name:"Daily Usage",color:h["b"][4]}],description:"Formula = Daily Volume / ALP Pool * 100",type:"Composed"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:Rt,title:"Unique Users",data:Ht,yaxisDataKey:"uniqueSum",yaxisTickFormatter:h["l"],tooltipFormatter:h["g"],tooltipLabelFormatter:h["j"],items:[{key:"uniqueSwapCount",name:"Swaps"},{key:"uniqueMarginCount",name:"Margin trading"},{key:"uniqueMintBurnCount",name:"Mint & Burn ALP"}],type:"Composed"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:Rt,title:"New Users",data:null===Ht||void 0===Ht?void 0:Ht.map((t=>Object(n["a"])(Object(n["a"])({},t),{},{all:t.newCount}))),yaxisDataKey:"newCount",rightYaxisDataKey:"uniqueCountCumulative",yaxisTickFormatter:h["l"],tooltipFormatter:h["g"],tooltipLabelFormatter:h["j"],items:[{key:"newSwapCount",name:"Swap"},{key:"newMarginCount",name:"Margin trading"},{key:"newMintBurnCount",name:"Mint & Burn"},{key:"uniqueCountCumulative",name:"Cumulative",type:"Line",yAxisId:"right",strokeWidth:2,color:h["b"][4]}],type:"Composed"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:Rt,title:"New vs. Existing Users",data:null===Ht||void 0===Ht?void 0:Ht.map((t=>Object(n["a"])(Object(n["a"])({},t),{},{all:t.uniqueCount}))),yaxisDataKey:"newCount",rightYaxisDataKey:"oldPercent",yaxisTickFormatter:h["l"],tooltipFormatter:h["g"],tooltipLabelFormatter:h["j"],items:[{key:"newCount",name:"New"},{key:"oldCount",name:"Existing"},{key:"oldPercent",name:"Existing %",yAxisId:"right",type:"Line",strokeWidth:2,color:h["b"][4],unit:"%"}],type:"Composed"})}),Object(P["jsx"])("div",{className:"chart-cell",children:Object(P["jsx"])(I,{syncId:"syncAlp",loading:Rt,title:"User Actions",data:(Ht||[]).map((t=>Object(n["a"])(Object(n["a"])({},t),{},{all:t.actionCount}))),yaxisDataKey:"actionCount",yaxisTickFormatter:h["l"],tooltipFormatter:h["g"],tooltipLabelFormatter:h["j"],items:[{key:"actionSwapCount",name:"Swaps"},{key:"actionMarginCount",name:"Margin trading"},{key:"actionMintBurnCount",name:"Mint & Burn ALP"}],type:"Composed"})})]})]})]})};e["default"]=z},wX4H:function(t,e,a){"use strict";a.d(e,"g",(function(){return P})),a.d(e,"h",(function(){return M})),a.d(e,"i",(function(){return I})),a.d(e,"l",(function(){return L})),a.d(e,"j",(function(){return U})),a.d(e,"k",(function(){return T})),a.d(e,"m",(function(){return E})),a.d(e,"e",(function(){return K})),a.d(e,"n",(function(){return W})),a.d(e,"f",(function(){return G})),a.d(e,"o",(function(){return z})),a.d(e,"d",(function(){return H})),a.d(e,"a",(function(){return R})),a.d(e,"b",(function(){return Y})),a.d(e,"c",(function(){return X}));var n=a("k1fw"),i=a("9og8"),r=a("tJVT"),c=a("rAM+"),o=a("WmNS"),s=a.n(o),l=a("q1tI"),u=a("UYTu"),d=a("Nlz5"),m=a("MMh5"),b=a("lX80"),p=a("LvDl"),j=a("XWHH"),v=a.n(j),h=a("k+Dj"),O=a("Z3mj"),f=(a("UeSS"),h["a"],O["utils"].formatUnits,O["providers"].JsonRpcProvider),y={arbitrum:new f("https://arb1.arbitrum.io/rpc"),avalanche:new f("https://api.avax.network/ext/bc/C/rpc")},x=parseInt(Date.now()/1e3),g=parseInt(+new Date(2021,7,31)/1e3);function k(t,e){var a,n={},i=Object(c["a"])(t);try{for(i.s();!(a=i.n()).done;){var r,o=a.value,s=Object(c["a"])(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;o[l]?n[l]=o[l]:n[l]&&(o[l]=n[l])}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}return t}var C={"0x05d6f705c80d9f812d9bc1a142a655cdb25e2571":"BTC","0xebc8428dc717d440d5dece1547456b115b868f0e":"ETH","0x7a96316b13bd7d0529e701d2ed8b9fc4e4fd8696":"USDC","0x158653b66fd72555f68edf983736781e471639cc":"USDT","0x9c3c9283d3e44854697cd22d3faa240cfb032889":"MATIC"};var w={arbitrum:{"0xabbc5f99639c9b6bcb58544ddf04efa6802f4064":"GMX","0x09f77e8a13de9a35a7231028187e9fd5db8a2acb":"GMX","0x3b6067d4caa8a14c63fdbe6318f27a0bbc9f9237":"Dodo","0x11111112542d85b3ef69ae05771c2dccff4faa26":"1inch"},avalanche:{"0x4296e307f108b2f583ff2f7b7270ee7831574ae5":"GMX","0x5f719c2f1095f7b9fc68a68e35b51194f4b6abe8":"GMX","0xc4729e56b831d74bbc18797e0e17a295fa77488c":"Yak","0x409e377a7affb1fd3369cfc24880ad58895d1dd9":"Dodo"}},F=t=>v()(t).then((t=>t.json()));function S(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,n=Object(l["useState"])(!0),c=Object(r["a"])(n,2),o=c[0],u=c[1],d=Object(l["useState"])(),m=Object(r["a"])(d,2),b=m[0],p=m[1],j=Object(l["useState"])(e),v=Object(r["a"])(j,2),h=v[0],O=v[1];return Object(l["useEffect"])(Object(i["a"])(s.a.mark((function e(){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,a(t);case 4:n=e.sent,O(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),p(e.t0);case 11:u(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t]),[h,o,b]}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.from,n=void 0===a?g:a,i={BTC:"bitcoin",ETH:"ethereum",LINK:"chainlink",UNI:"uniswap",AVAX:"avalanche-2"}[t],c=Date.now()/1e3,o=Math.ceil(c/86400)-Math.ceil(n/86400)-1,s="https://api.coingecko.com/api/v3/coins/".concat(i,"/market_chart?vs_currency=usd&days=").concat(o,"&interval=daily"),u=S(s),d=Object(r["a"])(u,3),m=d[0],b=d[1],p=d[2],j=Object(l["useMemo"])((()=>{if(!m||0===m.length)return null;var t=m.prices.map((t=>{var e=t[0]-1,a=86400*parseInt(e/1e3/86400);return{timestamp:a,value:t[1]}}));return t}),[m]);return[j,b,p]}function N(t){return 2*Math.sqrt(t)/(1+t)-1}function D(t){return"nearrainbow/acysubgraph"}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.subgraph,n=void 0===a?null:a,i=e.subgraphUrl,c=void 0===i?null:i,o=e.chainName,s=void 0===o?"arbitrum":o,p=Object(u["a"])(t);c||(n||(n=D(s)),c="https://api.thegraph.com/subgraphs/name/".concat(n));var j=new d["a"]({link:new m["a"]({uri:c,fetch:v()}),cache:new b["a"]}),h=Object(l["useState"])(),O=Object(r["a"])(h,2),f=O[0],y=O[1],x=Object(l["useState"])(!0),g=Object(r["a"])(x,2),k=g[0],C=g[1],w=Object(l["useState"])(null),F=Object(r["a"])(w,2),S=F[0],A=F[1];return Object(l["useEffect"])((()=>{C(!0)}),[t,C]),Object(l["useEffect"])((()=>{j.query({query:p}).then((t=>{y(t.data),C(!1)})).catch((t=>{A(t),C(!1)}))}),[t,y,A,C]),[f,k,S]}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"arbitrum",e=Object(l["useState"])(),a=Object(r["a"])(e,2),n=a[0],i=a[1],c=Object(l["useState"])(!0),o=Object(r["a"])(c,2),s=o[0],u=o[1],d=Object(l["useState"])(null),m=Object(r["a"])(d,2),b=m[0],p=m[1];return Object(l["useEffect"])((()=>{y[t].getBlock().then(i).catch(p).finally((()=>u(!1)))}),[]),[n,s,b]}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"arbitrum",e=P("{\n    _meta {\n      block {\n        number\n      }\n    } \n  }",{chainName:t}),a=Object(r["a"])(e,3),n=a[0],i=a[1],c=a[2],o=Object(l["useState"])(null),s=Object(r["a"])(o,2),u=s[0],d=s[1];return Object(l["useEffect"])((()=>{n&&y[t].getBlock(n._meta.block.number).then((t=>{d(t)}))}),[n,d]),[u,i,c]}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.chainName,o=void 0===c?"arbitrum":c,s=P('{\n    tradingStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: { period: "daily", timestamp_gte: '.concat(a,", timestamp_lte: ").concat(i," }\n    ) {\n      timestamp\n      profit\n      loss\n      profitCumulative\n      lossCumulative\n      longOpenInterest\n      shortOpenInterest\n    }\n  }"),{chainName:o}),u=Object(r["a"])(s,3),d=u[0],m=u[1],b=(u[2],G({from:a,to:i,chainName:o})),j=Object(r["a"])(b,1),v=j[0],h=Object(l["useMemo"])((()=>{if(!v)return{};var t=0;return v.reduce(((e,a)=>{var n=a.timestamp,i=a.margin;return t+=i,e[n]={fees:i,feesCumulative:t},e}),{})}),[v]),O=null,f=d?Object(p["sortBy"])(d.tradingStats,(t=>t.timestamp)).map((t=>{var e,a,n=t.longOpenInterest/1e30,i=t.shortOpenInterest/1e30,r=n+i,c=(null===(e=h[t.timestamp])||void 0===e||e.fees,null===(a=h[t.timestamp])||void 0===a||a.feesCumulative,t.profit/1e30),o=t.loss/1e30,s=t.profitCumulative/1e30,l=t.lossCumulative/1e30,u=s-l,d=c-o;return{longOpenInterest:n,shortOpenInterest:i,openInterest:r,profit:c,loss:-o,profitCumulative:s,lossCumulative:-l,pnl:d,pnlCumulative:u,timestamp:t.timestamp}})):null;if(f){var y,k,C,w,F,S,A,N,D,M,I,L,B,U,T,E,K=null!==(y=null===(k=Object(p["maxBy"])(f,(t=>t.profit)))||void 0===k?void 0:k.profit)&&void 0!==y?y:0,q=null!==(C=null===(w=Object(p["minBy"])(f,(t=>t.loss)))||void 0===w?void 0:w.loss)&&void 0!==C?C:0,_=Math.max(K,-q),W=null!==(F=null===(S=Object(p["maxBy"])(f,(t=>t.pnl)))||void 0===S?void 0:S.pnl)&&void 0!==F?F:0,z=null!==(A=null===(N=Object(p["minBy"])(f,(t=>t.pnl)))||void 0===N?void 0:N.pnl)&&void 0!==A?A:0,H=null!==(D=null===(M=Object(p["maxBy"])(f,(t=>t.pnlCumulative)))||void 0===M?void 0:M.pnlCumulative)&&void 0!==D?D:0,R=null!==(I=null===(L=Object(p["minBy"])(f,(t=>t.pnlCumulative)))||void 0===L?void 0:L.pnlCumulative)&&void 0!==I?I:0,Y=null!==(B=null===(U=f[f.length-1])||void 0===U?void 0:U.profitCumulative)&&void 0!==B?B:0,X=null!==(T=null===(E=f[f.length-1])||void 0===E?void 0:E.lossCumulative)&&void 0!==T?T:0,V={maxProfit:K,maxLoss:q,maxProfitLoss:_,profitCumulative:Y,lossCumulative:X,maxCumulativeProfitLoss:Math.max(Y,-X),maxAbsOfPnlAndCumulativePnl:Math.max(Math.abs(W),Math.abs(H),Math.abs(z),Math.abs(R))};O={data:f,stats:V}}return[O,m]}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return"\n    hourlyVolumeBySources(\n      first: 1000\n      skip: ".concat(t,"\n      orderBy: timestamp\n      orderDirection: desc\n      where: { timestamp_gte: ").concat(e,", timestamp_lte: ").concat(a," }\n    ) {\n      timestamp\n      source\n      swap\n    }\n  ")}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,i=t.to,c=void 0===i?x:i,o=t.chainName,s=void 0===o?"arbitrum":o,u="{\n    a: ".concat(B(0,a,c),"\n    b: ").concat(B(1e3,a,c),"\n    c: ").concat(B(2e3,a,c),"\n    d: ").concat(B(3e3,a,c),"\n    e: ").concat(B(4e3,a,c),"\n  }"),d=P(u,{chainName:s}),m=Object(r["a"])(d,3),b=m[0],j=m[1],v=m[2],h=Object(l["useMemo"])((()=>{if(!b)return null;var t=b.a,e=b.b,a=b.c,i=b.d,r=b.e,c=Object(p["chain"])([...t,...e,...a,...i,...r]).groupBy((t=>86400*parseInt(t.timestamp/86400))).map(((t,e)=>{var a=0,i=Object(n["a"])({timestamp:Number(e)},t.reduce(((t,e)=>{var n=w[s][e.source]||e.source;if(0!=e.swap){var i=e.swap/1e30;t[n]=t[n]||0,t[n]+=i,a+=i}return t}),{}));return i.all=a,i})).sortBy((t=>t.timestamp)).value();return c}),[b]);return[h,j,v]}function T(){var t=S("https://gmx-server-mainnet.uw.r.appspot.com/total_volume"),e=Object(r["a"])(t,2),a=e[0],n=e[1];return Object(l["useMemo"])((()=>{if(!a)return[a,n];var t=a.reduce(((t,e)=>t+parseInt(e.data.volume)/1e30),0);return[t,n]}),[a,n])}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,i=t.to,c=void 0===i?x:i,o=t.chainName,s=void 0===o?"arbitrum":o,l='{\n    userStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: { period: "daily", timestamp_gte: '.concat(a,", timestamp_lte: ").concat(c," }\n    ) {\n      uniqueCount\n      uniqueSwapCount\n      uniqueMarginCount\n      uniqueMintBurnCount\n      uniqueCountCumulative\n      uniqueSwapCountCumulative\n      uniqueMarginCountCumulative\n      uniqueMintBurnCountCumulative\n      actionCount\n      actionSwapCount\n      actionMarginCount\n      actionMintBurnCount\n      timestamp\n    }\n  }"),u=P(l,{chainName:s}),d=Object(r["a"])(u,3),m=d[0],b=d[1],j=d[2],v={},h=m?Object(p["sortBy"])(m.userStats,"timestamp").map((t=>{var e=["","Swap","Margin","MintBurn"].reduce(((e,a)=>(e["new".concat(a,"Count")]=v[a]?t["unique".concat(a,"CountCumulative")]-v[a]:t["unique".concat(a,"Count")],v[a]=t["unique".concat(a,"CountCumulative")],e)),{}),a=t.uniqueCount-e.newCount,i=(a/t.uniqueCount*100).toFixed(1);return Object(n["a"])(Object(n["a"])({all:t.uniqueCount,uniqueSum:t.uniqueSwapCount+t.uniqueMarginCount+t.uniqueMintBurnCount,oldCount:a,oldPercent:i},e),t)})):null;return[h,b,j]}function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.chainName,o=void 0===c?"arbitrum":c,s='{\n    borrowRates(\n      first: 1000,\n      orderBy: timestamp,\n      orderDirection: desc,\n      where: { period: "daily", id_gte: '.concat(a,", id_lte: ").concat(i," }\n    ) {\n      id,\n      token,\n      timestamp,\n      startBorrowRate,\n      startTimestamp,\n      endBorrowRate,\n      endTimestamp\n    }\n  }"),u=P(s,{chainName:o}),d=Object(r["a"])(u,3),m=d[0],b=d[1],j=d[2],v=Object(l["useMemo"])((()=>{if(!m)return null;var t=m.borrowRates.reduce(((t,e)=>{var a=C[e.token];t[e.timestamp]=t[e.timestamp]||{timestamp:e.timestamp};var n=t[e.timestamp],i=3600*parseInt((e.endTimestamp-e.startTimestamp)/3600),r=0;if(e.endBorrowRate&&e.startBorrowRate){var c=e.endBorrowRate-e.startBorrowRate,o=i/86400;r=c/o/1e4*365}return n[a]=r,t}),{});return k(Object(p["sortBy"])(Object.values(t),"timestamp"),["ETH","USDC","USDT","BTC","MATIC"])}),[m]);return[v,b,j]}var q=7,_=86400*q;function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,i=t.to,c=void 0===i?x:i,o=t.chainName,s=void 0===o?"arbitrum":o,u="margin liquidation swap mint burn".split(" "),d="arbitrum"===s?"id":"timestamp",m="{\n    volumeStats(\n      first: 1000,\n      orderBy: ".concat(d,",\n      orderDirection: desc\n      where: { period: daily, ").concat(d,"_gte: ").concat(a,", ").concat(d,"_lte: ").concat(c," }\n    ) {\n      ").concat(d,"\n      ").concat(u.join("\n"),"\n    }\n  }"),b=P(m,{chainName:s}),j=Object(r["a"])(b,3),v=j[0],h=j[1],O=j[2],f=Object(l["useMemo"])((()=>{if(!v)return null;var t=Object(p["sortBy"])(v.volumeStats,d).map((t=>{var e={timestamp:t[d]},a=0;return u.forEach((n=>{e[n]=t[n]/1e30,a+=e[n]})),e.all=a,e})),e=0,a={};return t.map((t=>{var i;e+=t.all;var r=t.timestamp-_;return r in a&&(i=(e-a[r])/q),Object(n["a"])({movingAverageAll:i,cumulative:e},t)}))}),[v]);return[f,h,O]}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.chainName,o=void 0===c?"arbitrum":c,s="margin liquidation swap mint burn".split(" "),u="{\n    feeStats(\n      first: 1000\n      orderBy: id\n      orderDirection: desc\n      where: { period: daily, id_gte: ".concat(a,", id_lte: ").concat(i," }\n    ) {\n      id\n      margin\n      marginAndLiquidation\n      swap\n      mint\n      burn\n      ").concat("avalanche"===o?"timestamp":"","\n    }\n  }"),d=P(u,{chainName:o}),m=Object(r["a"])(d,3),b=m[0],j=m[1],v=m[2],h=Object(l["useMemo"])((()=>{if(!b)return null;var t=Object(p["sortBy"])(b.feeStats,"id").map((t=>{var e={timestamp:t.timestamp||t.id};return s.forEach((a=>{t[a]&&(e[a]=t[a]/1e30)})),e.liquidation=t.marginAndLiquidation/1e30-t.margin/1e30,e.all=s.reduce(((t,a)=>t+e[a]),0),e})),e=0,n={};return Object(p["chain"])(t).groupBy((t=>t.timestamp)).map(((t,a)=>{var i,r=Object(p["sumBy"])(t,"all");e+=r;var c=a-_;c in n&&(i=(e-n[c])/q);var o={timestamp:Number(a),all:r,cumulative:e,movingAverageAll:i};return s.forEach((e=>{o[e]=Object(p["sumBy"])(t,e)})),n[a]=e,o})).value().filter((t=>t.timestamp>=a))}),[b]);return[h,j,v]}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.chainName,o=void 0===c?"arbitrum":c,s="margin liquidation swap mint burn".split(" "),u="{\n    volumeStats(\n      first: 1000\n      orderBy: id\n      orderDirection: desc\n      where: { period: daily, id_gte: ".concat(a,", id_lte: ").concat(i," }\n    ) {\n      id\n      margin\n      liquidation\n      swap\n      mint\n      burn\n      ").concat("avalanche"===o?"timestamp":"","\n    }\n  }"),d=P(u,{chainName:o}),m=Object(r["a"])(d,3),b=m[0],j=m[1],v=m[2],h=Object(l["useMemo"])((()=>{if(!b)return null;var t=Object(p["sortBy"])(b.feeStats,"id").map((t=>{var e={timestamp:t.timestamp||t.id};return s.forEach((a=>{t[a]&&(e[a]=t[a]/1e30)})),e.liquidation=t.liquidation/1e30-t.margin/1e30,e.all=s.reduce(((t,a)=>t+e[a]),0),e})),e=0,n={};return Object(p["chain"])(t).groupBy((t=>t.timestamp)).map(((t,a)=>{var i,r=Object(p["sumBy"])(t,"all");e+=r;var c=a-_;c in n&&(i=(e-n[c])/q);var o={timestamp:Number(a),all:r,cumulative:e,movingAverageAll:i};return s.forEach((e=>{o[e]=Object(p["sumBy"])(t,e)})),n[a]=e,o})).value().filter((t=>t.timestamp>=a))}),[b]);return[h,j,v]}function H(t){var e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.groupPeriod,o=G({from:a,to:i,groupPeriod:c}),s=Object(r["a"])(o,2),u=s[0],d=s[1],m=R({from:a,to:i,groupPeriod:c}),b=Object(r["a"])(m,2),p=b[0],j=b[1],v=W({from:a,to:i,groupPeriod:c}),h=Object(r["a"])(v,2),O=h[0],f=h[1],y=86400/c,k=Object(l["useMemo"])((()=>{if(!u||!p||!O)return null;var t=u.map(((t,e)=>{var a=p[e],n=O[e],i=null!==t&&void 0!==t&&t.all&&null!==a&&void 0!==a&&a.aum?t.all/a.aum*100*365*y:null;i>1e4&&(i=null);var r=null!==n&&void 0!==n&&n.all&&null!==a&&void 0!==a&&a.aum?n.all/a.aum*100*y:null;return r>1e4&&(r=null),{timestamp:t.timestamp,apr:i,usage:r}})),e=t.reduce(((t,e)=>e.apr+t),0)/t.length;t.forEach((t=>t.averageApr=e));var a=t.reduce(((t,e)=>e.usage+t),0)/t.length;return t.forEach((t=>t.averageUsage=a)),t}),[u,p,O]);return[k,d||j||f]}function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.from,a=void 0===e?g:e,n=t.to,i=void 0===n?x:n,c=t.chainName,o=void 0===c?"arbitrum":c,s="arbitrum"===o?"id":"timestamp",u="{\n    alpStats(\n      first: 1000\n      orderBy: ".concat(s,"\n      orderDirection: desc\n      where: {period: daily, ").concat(s,"_gte: ").concat(a,", ").concat(s,"_lte: ").concat(i,"}\n    ) {\n      ").concat(s,"\n      aumInUsda\n      alpSupply\n      distributedUsd\n      distributedEth\n    }\n  }"),d=P(u,{chainName:o}),m=Object(r["a"])(d,3),b=m[0],j=m[1],v=m[2],h=0,O=0,f=Object(l["useMemo"])((()=>{if(!b)return null;var t,e;return Object(p["sortBy"])(b.alpStats,(t=>t[s])).filter((t=>t[s]%86400===0)).reduce(((t,e)=>{var a=t[t.length-1],n=Number(e.aumInUsda)/1e18,i=Number(e.alpSupply)/1e18,r=Number(e.distributedUsd)/1e30,c=r/i||0;h+=c;var o=Number(e.distributedEth)/1e18,l=o/i||0;O+=l;var u=n/i,d=parseInt(e[s]),m={timestamp:d,aum:n,alpSupply:i,alpPrice:u,cumulativeDistributedEthPerAlp:O,cumulativeDistributedUsdPerAlp:h,distributedUsdPerAlp:c,distributedEthPerAlp:l};return a&&a.timestamp===d?t[t.length-1]=m:t.push(m),t}),[]).map((a=>{var n=a.alpSupply,i=a.aum;return n||(n=t),i||(i=e),a.alpSupplyChange=t?(n-t)/t*100:0,a.alpSupplyChange>1e3&&(a.alpSupplyChange=0),a.aumChange=e?(i-e)/e*100:0,a.aumChange>1e3&&(a.aumChange=0),t=n,e=i,a}))}),[b]);return[f,j,v]}function Y(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.from,i=void 0===n?g:n,c=(a.chainName,A("BTC",{from:i})),o=Object(r["a"])(c,1),s=o[0],u=A("ETH",{from:i}),d=Object(r["a"])(u,1),m=d[0],b=A("AVAX",{from:i}),p=Object(r["a"])(b,1),j=p[0],v=Object(l["useMemo"])((()=>{var a,n,i,r;if(!s||!m||!j||!t||!e)return null;for(var c=t.reduce(((t,e)=>(t[e.timestamp]=e,t)),{}),o=e.reduce(((t,e)=>(t[e.timestamp]=e,t))),l=.25,u=.25,d=1-l-u,b=(null===(a=c[s[0].timestamp])||void 0===a?void 0:a.alpPrice)||1.19,p=null===(n=s[0])||void 0===n?void 0:n.value,v=null===(i=m[0])||void 0===i?void 0:i.value,h=null===(r=j[0])||void 0===r?void 0:r.value,O=b*l/p,f=b*u/v,y=.5*b/p,x=.5*b/v,g=.5*b/h,k=[],C=0,w=0,F=3400,S=1e3,A=0;A<s.length;A++){var D,P,M,I,L,B=s[A].value,U=(null===(D=m[A])||void 0===D?void 0:D.value)||F,T=(null===(P=j[A])||void 0===P?void 0:P.value)||S;S=T,F=U;var E=86400*parseInt(s[A].timestamp/86400),K=c[E],q=null!==(M=null===K||void 0===K?void 0:K.alpPrice)&&void 0!==M?M:w;w=q;var _=null===(I=c[E])||void 0===I?void 0:I.alpSupply,W=null===(L=o[E])||void 0===L?void 0:L.all,G=O*B+f*U+b*d,z=(y*B+b/2)*(1+N(B/p)),H=(x*U+b/2)*(1+N(U/v)),R=(g*T+b/2)*(1+N(T/h));if(W&&_){var Y=1635714e3,X=E>=Y?.7:.5,V=W/_*X;C+=V,.8*q/365}var J=q;q&&_&&C&&(J=q+C);var Q=void 0,Z=void 0,$=void 0;K&&(K.cumulativeDistributedUsdPerAlp&&(Z=q+K.cumulativeDistributedUsdPerAlp),K.cumulativeDistributedEthPerAlp&&($=q+K.cumulativeDistributedEthPerAlp*U)),k.push({timestamp:s[A].timestamp,syntheticPrice:G,lpBtcPrice:z,lpEthPrice:H,lpAvaxPrice:R,alpPrice:q,btcPrice:B,ethPrice:U,alpPlusFees:J,alpPlusDistributedUsd:Z,alpPlusDistributedEth:$,performanceLpEth:(q/H*100).toFixed(1),performanceLpEthCollectedFees:(J/H*100).toFixed(1),performanceLpEthDistributedUsd:(Z/H*100).toFixed(1),performanceLpEthDistributedEth:($/H*100).toFixed(1),performanceLpBtcCollectedFees:(J/z*100).toFixed(1),performanceSynthetic:(q/G*100).toFixed(1),performanceSyntheticCollectedFees:(J/G*100).toFixed(1),performanceSyntheticDistributedUsd:(Z/G*100).toFixed(1),performanceSyntheticDistributedEth:($/G*100).toFixed(1),alpApr:Q})}return k}),[s,m,t,e]);return[v]}function X(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(a.from,a.chainName,Object(l["useMemo"])((()=>{if(!t||!e)return null;for(var a=t.reduce(((t,e)=>(t[e.timestamp]=e,t)),{}),n=e.reduce(((t,e)=>(t[e.timestamp]=e,t))),i=[],r=0,c=0,o=0;o<t.length;o++){var s,l,u,d=t[o].timestamp,m=a[d],b=null!==(s=null===m||void 0===m?void 0:m.alpPrice)&&void 0!==s?s:c;c=b;var p=null===(l=a[d])||void 0===l?void 0:l.alpSupply,j=null===(u=n[d])||void 0===u?void 0:u.all;if(j&&p){var v=1635714e3,h=d>=v?.7:.5,O=j/p*h;r+=O}var f=b;b&&p&&r&&(f=b+r),i.push({timestamp:t[o].timestamp,alpPrice:b,alpPlusFees:f})}return i}),[t,e]));return[n]}},zb4o:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a("v7au"),i=a("q1tI"),r=a("6cT+"),c=a.n(r),o=a("nKUr");function s(t){return c()("%Y-%m-%d",new Date(1e3*t))}function l(t,e){var a="Date,"+e.map((t=>t.name||t.key)).join(","),n=t.map((t=>s(t.timestamp)+","+e.map((e=>t[e.key])).join(","))).join("\n"),i=a+"\n"+n;return"data:application/octet-stream,".concat(encodeURIComponent(i))}function u(t){var e=t.data,a=t.fields,r=t.name,c=void 0===r?"GMX stats":r,u=Object(i["useCallback"])((t=>{t.preventDefault();var n=l(e,a),i=s(e[0].timestamp),r=s(e[e.length-1].timestamp),o="".concat(c,"_").concat(i,"_").concat(r,".csv"),u=document.createElement("a");u.href=n,u.download=o,document.body.appendChild(u),u.click(),document.body.removeChild(u)}),[e,a,c]);return e&&0!==e.length&&a?Object(o["jsx"])("a",{title:"Download CSV",className:"csv-link",onClick:u,children:Object(o["jsx"])(n["a"],{size:"1em"})}):null}function d(t){var e=t.title,a=t.loading,i=t.csvFields,r=t.data;return Object(o["jsxs"])(o["Fragment"],{children:[Object(o["jsxs"])("h3",{children:[e,Object(o["jsx"])(u,{fields:i,name:e,data:r})]}),a&&Object(o["jsx"])(n["b"],{size:"3em",className:"loader"}),t.children]})}}}]);