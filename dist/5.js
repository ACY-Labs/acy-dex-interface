(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"+O4Z":function(e,r){function t(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e.exports=t},"/UYa":function(e,r,t){e.exports=t("MS7i")},"/eKi":function(e,r,t){"use strict";var n=t("WmNS"),i=t("3AUn");function o(e){return function(){var r=i(n.mark((function r(t,o,u,a){var s,c,l,p,f;return n.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c=new Promise((function(e){s=e})),l=null,p=!1,f=function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p=!0,u((function(e){l=e,s()})),e.next=4,c;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.prev=4,r.next=7,e(t,o,f);case 7:if(!p){r.next=13;break}return r.next=10,c;case 10:l(null),r.next=14;break;case 13:a(null);case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](4),l?l(r.t0):a(r.t0);case 19:case"end":return r.stop()}}),r,null,[[4,16]])})));return function(e,t,n,i){return r.apply(this,arguments)}}()}Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=o},"/u+i":function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("x49D"),s=t("c29t"),c=t("GXtI"),l=t("2MUX"),p=t("CS2o"),f=(t("QXrW"),t("Nk1h"),t("y2lW")),d=1e3,h=function(e,r){return e+r},v=["sync","latest"],m=function(e){"use strict";l(t,e);var r=p(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(this,t),e=r.call(this),e._blockResetDuration=n.blockResetDuration||20*d,e._blockResetTimeout,e._currentBlock=null,e._isRunning=!1,e._onNewListener=e._onNewListener.bind(a(e)),e._onRemoveListener=e._onRemoveListener.bind(a(e)),e._resetCurrentBlock=e._resetCurrentBlock.bind(a(e)),e._setupInternalEvents(),e}return u(t,[{key:"isRunning",value:function(){return this._isRunning}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"getLatestBlock",value:function(){var e=i(n.mark((function e(){var r,t=this;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._currentBlock){e.next=2;break}return e.abrupt("return",this._currentBlock);case 2:return e.next=4,new Promise((function(e){return t.once("latest",e)}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"removeAllListeners",value:function(e){e?s(c(t.prototype),"removeAllListeners",this).call(this,e):s(c(t.prototype),"removeAllListeners",this).call(this),this._setupInternalEvents(),this._onRemoveListener()}},{key:"_start",value:function(){}},{key:"_end",value:function(){}},{key:"_setupInternalEvents",value:function(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}},{key:"_onNewListener",value:function(e,r){v.includes(e)&&this._maybeStart()}},{key:"_onRemoveListener",value:function(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}},{key:"_maybeStart",value:function(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}},{key:"_maybeEnd",value:function(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}},{key:"_getBlockTrackerEventCount",value:function(){var e=this;return v.map((function(r){return e.listenerCount(r)})).reduce(h)}},{key:"_newPotentialLatest",value:function(e){var r=this._currentBlock;r&&y(e)<=y(r)||this._setCurrentBlock(e)}},{key:"_setCurrentBlock",value:function(e){var r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}},{key:"_setupBlockResetTimeout",value:function(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}},{key:"_cancelBlockResetTimeout",value:function(){clearTimeout(this._blockResetTimeout)}},{key:"_resetCurrentBlock",value:function(){this._currentBlock=null}}]),t}(f);function y(e){return Number.parseInt(e,16)}e.exports=m},"0QlC":function(e,r,t){var n=t("WmNS"),i=t("3AUn");function o(e){return u.apply(this,arguments)}function u(){return u=i(n.mark((function e(r){var t,i,o,u,l,p,f,d;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.provider,i=r.fromBlock,o=r.toBlock,i||(i=o),u=a(i),l=a(o),p=l-u+1,f=Array(p).fill().map((function(e,r){return u+r})).map(s),e.next=8,Promise.all(f.map((function(e){return c(t,"eth_getBlockByNumber",[e,!1])})));case 8:return d=e.sent,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function a(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function s(e){if(void 0===e||null===e)return e;var r=e.toString(16);return"0x"+r}function c(e,r,t){return new Promise((function(n,i){e.sendAsync({id:1,jsonrpc:"2.0",method:r,params:t},(function(e,r){if(e)return i(e);n(r.result)}))}))}e.exports=o},"2dIN":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;var n=4294967295,i=Math.floor(Math.random()*n);function o(){return i=(i+1)%n,i}r.getUniqueId=o},"2nhq":function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("q6/2").Mutex,u=t("idQJ"),a=u.createAsyncMiddleware,s=t("/UYa"),c=t("FqFB"),l=t("rW7p"),p=t("hyCD"),f=t("UJ2e"),d=f.intToHex,h=f.hexToInt;function v(e){var r=e.blockTracker,t=e.provider,u=0,a={},f=new o,v=w({mutex:f}),g=s({eth_newFilter:v(m(x)),eth_newBlockFilter:v(m(R)),eth_newPendingTransactionFilter:v(m(S)),eth_uninstallFilter:v(y(L)),eth_getFilterChanges:v(y(O)),eth_getFilterLogs:v(y(j))}),k=function(){var e=i(n.mark((function e(r){var t,o,u;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.oldBlock,o=r.newBlock,0!==a.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f.acquire();case 5:return u=e.sent,e.prev=6,e.next=9,Promise.all(b(a).map(function(){var e=i(n.mark((function e(r){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.update({oldBlock:t,newBlock:o});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}()));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](6),console.error(e.t0);case 14:u();case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(r){return e.apply(this,arguments)}}();return g.newLogFilter=x,g.newBlockFilter=R,g.newPendingTransactionFilter=S,g.uninstallFilter=L,g.getFilterChanges=O,g.getFilterLogs=j,g.destroy=function(){T()},g;function x(e){return _.apply(this,arguments)}function _(){return _=i(n.mark((function e(r){var i;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new c({provider:t,params:r}),e.next=3,M(i);case 3:return e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function R(){return E.apply(this,arguments)}function E(){return E=i(n.mark((function e(){var r;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new l({provider:t}),e.next=3,M(r);case 3:return e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function S(){return P.apply(this,arguments)}function P(){return P=i(n.mark((function e(){var r;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new p({provider:t}),e.next=3,M(r);case 3:return e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function O(e){return C.apply(this,arguments)}function C(){return C=i(n.mark((function e(r){var t,i,o;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h(r),i=a[t],i){e.next=4;break}throw new Error('No filter for index "'.concat(t,'"'));case 4:return o=i.getChangesAndClear(),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function j(e){return B.apply(this,arguments)}function B(){return B=i(n.mark((function e(r){var t,i;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h(r),i=a[t],i){e.next=4;break}throw new Error('No filter for index "'.concat(t,'"'));case 4:return"log"===i.type?results=i.getAllResults():results=[],e.abrupt("return",results);case 6:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function L(e){return A.apply(this,arguments)}function A(){return A=i(n.mark((function e(r){var t,i,o;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h(r),i=a[t],o=Boolean(i),!o){e.next=6;break}return e.next=6,I(t);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return N=i(n.mark((function e(t){var i,o,s;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=b(a).length,e.next=3,r.getLatestBlock();case 3:return o=e.sent,e.next=6,t.initialize({currentBlock:o});case 6:return u++,a[u]=t,t.id=u,t.idHex=d(u),s=b(a).length,U({prevFilterCount:i,newFilterCount:s}),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function I(e){return F.apply(this,arguments)}function F(){return F=i(n.mark((function e(r){var t,i;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=b(a).length,delete a[r],i=b(a).length,U({prevFilterCount:t,newFilterCount:i});case 4:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function T(){return q.apply(this,arguments)}function q(){return q=i(n.mark((function e(){var r;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=b(a).length,a={},U({prevFilterCount:r,newFilterCount:0});case 3:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function U(e){var t=e.prevFilterCount,n=e.newFilterCount;0===t&&n>0?r.on("sync",k):t>0&&0===n&&r.removeListener("sync",k)}}function m(e){return y(i(n.mark((function r(){var t,i,o=arguments;return n.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.apply(void 0,o);case 2:return t=r.sent,i=d(t.id),r.abrupt("return",i);case 5:case"end":return r.stop()}}),r)}))))}function y(e){return a(function(){var r=i(n.mark((function r(t,i){var o;return n.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.apply(null,t.params);case 2:o=r.sent,i.result=o;case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}function w(e){var r=e.mutex;return function(e){return function(){var t=i(n.mark((function t(i,o,u,a){var s;return n.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.acquire();case 2:s=t.sent,s(),e(i,o,u,a);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n,i){return t.apply(this,arguments)}}()}}function b(e,r){var t=[];for(var n in e)t.push(e[n]);return t}e.exports=v},"8Pg7":function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("c29t"),s=t("GXtI"),c=t("2MUX"),l=t("CS2o"),p=t("zvTS"),f=function(e){"use strict";c(t,e);var r=l(t);function t(){var e;return o(this,t),e=r.call(this),e.allResults=[],e}return u(t,[{key:"update",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},{key:"addResults",value:function(e){this.allResults=this.allResults.concat(e),a(s(t.prototype),"addResults",this).call(this,e)}},{key:"addInitialResults",value:function(e){this.allResults=this.allResults.concat(e),a(s(t.prototype),"addInitialResults",this).call(this,e)}},{key:"getAllResults",value:function(){return this.allResults}}]),t}(p);e.exports=f},"8v5O":function(e,r,t){var n=t("GXtI");function i(e,r){while(!Object.prototype.hasOwnProperty.call(e,r))if(e=n(e),null===e)break;return e}e.exports=i},Fj00:function(e,r,t){"use strict";var n=t("xbqb"),i=t("Lw8S"),o=t("2MUX"),u=t("CS2o");Object.defineProperty(r,"__esModule",{value:!0});var a=t("+qE3");function s(e,r,t){try{Reflect.apply(e,r,t)}catch(n){setTimeout((function(){throw n}))}}function c(e){for(var r=e.length,t=new Array(r),n=0;n<r;n+=1)t[n]=e[n];return t}var l=function(e){o(t,e);var r=u(t);function t(){return n(this,t),r.apply(this,arguments)}return i(t,[{key:"emit",value:function(e){var r="error"===e,t=this._events;if(void 0!==t)r=r&&void 0===t.error;else if(!r)return!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(r){var u;if(i.length>0&&(u=i[0]),u instanceof Error)throw u;var a=new Error("Unhandled error.".concat(u?" (".concat(u.message,")"):""));throw a.context=u,a}var l=t[e];if(void 0===l)return!1;if("function"===typeof l)s(l,this,i);else for(var p=l.length,f=c(l),d=0;d<p;d+=1)s(f[d],this,i);return!0}}]),t}(a.EventEmitter);r.default=l},FqFB:function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("2MUX"),s=t("CS2o"),c=t("QXrW"),l=t("h9tj"),p=t("8Pg7"),f=t("UJ2e"),d=(f.bnToHex,f.hexToInt),h=f.incrementHexInt,v=f.minBlockRef,m=f.blockRefIsNumber,y=function(e){"use strict";a(t,e);var r=s(t);function t(e){var n,i=e.provider,u=e.params;return o(this,t),n=r.call(this),n.type="log",n.ethQuery=new c(i),n.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},u),n.params.address&&(Array.isArray(n.params.address)||(n.params.address=[n.params.address]),n.params.address=n.params.address.map((function(e){return e.toLowerCase()}))),n}return u(t,[{key:"initialize",value:function(){var e=i(n.mark((function e(r){var t,i,o,u,a;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.currentBlock,i=this.params.fromBlock,["latest","pending"].includes(i)&&(i=t),"earliest"===i&&(i="0x0"),this.params.fromBlock=i,o=v(this.params.toBlock,t),u=Object.assign({},this.params,{toBlock:o}),e.next=9,this._fetchLogs(u);case 9:a=e.sent,this.addInitialResults(a);case 11:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"update",value:function(){var e=i(n.mark((function e(r){var t,i,o,u,a,s,c,l=this;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.oldBlock,i=r.newBlock,o=i,u=t?h(t):i,a=Object.assign({},this.params,{fromBlock:u,toBlock:o}),e.next=6,this._fetchLogs(a);case 6:s=e.sent,c=s.filter((function(e){return l.matchLog(e)})),this.addResults(c);case 9:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"_fetchLogs",value:function(){var e=i(n.mark((function e(r){var t,i=this;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l((function(e){return i.ethQuery.getLogs(r,e)}))();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"matchLog",value:function(e){if(d(this.params.fromBlock)>=d(e.blockNumber))return!1;if(m(this.params.toBlock)&&d(this.params.toBlock)<=d(e.blockNumber))return!1;var r=e.address&&e.address.toLowerCase();if(this.params.address&&r&&!this.params.address.includes(r))return!1;var t=this.params.topics.every((function(r,t){var n=e.topics[t];if(!n)return!1;n=n.toLowerCase();var i=Array.isArray(r)?r:[r],o=i.includes(null);if(o)return!0;i=i.map((function(e){return e.toLowerCase()}));var u=i.includes(n);return u}));return t}}]),t}(p);e.exports=y},Lbbr:function(e,r,t){"use strict";var n=t("5wUe");Object.defineProperty(r,"__esModule",{value:!0}),r.ethErrors=void 0;var i=t("sPLH"),o=t("rmD3"),u=t("YOjo");function a(e,r){var t=c(r),u=n(t,2),a=u[0],s=u[1];return new i.EthereumRpcError(e,a||o.getMessageFromCode(e),s)}function s(e,r){var t=c(r),u=n(t,2),a=u[0],s=u[1];return new i.EthereumProviderError(e,a||o.getMessageFromCode(e),s)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){var r=e.message,t=e.data;if(r&&"string"!==typeof r)throw new Error("Must specify string message.");return[r||void 0,t]}}return[]}r.ethErrors={rpc:{parse:function(e){return a(u.errorCodes.rpc.parse,e)},invalidRequest:function(e){return a(u.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return a(u.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return a(u.errorCodes.rpc.methodNotFound,e)},internal:function(e){return a(u.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var r=e.code;if(!Number.isInteger(r)||r>-32005||r<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(r,e)},invalidInput:function(e){return a(u.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return a(u.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return a(u.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return a(u.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return a(u.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return a(u.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return s(u.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return s(u.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return s(u.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return s(u.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return s(u.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var r=e.code,t=e.message,n=e.data;if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string');return new i.EthereumProviderError(r,t,n)}}}},MS7i:function(e,r){e.exports=function(e){return function(r,t,n,i){var o=e[r.method];return void 0===o?n():"function"===typeof o?o(r,t,n,i):(t.result=o,i())}}},N1pS:function(e,r){e.exports=a,a.default=a,a.stable=p,a.stableStringify=p;var t="[...]",n="[Circular]",i=[],o=[];function u(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,r,t,n){var a;"undefined"===typeof n&&(n=u()),c(e,"",0,[],void 0,0,n);try{a=0===o.length?JSON.stringify(e,r,t):JSON.stringify(e,d(r),t)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{while(0!==i.length){var s=i.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return a}function s(e,r,t,n){var u=Object.getOwnPropertyDescriptor(n,t);void 0!==u.get?u.configurable?(Object.defineProperty(n,t,{value:e}),i.push([n,t,r,u])):o.push([r,t,e]):(n[t]=e,i.push([n,t,r]))}function c(e,r,i,o,u,a,l){var p;if(a+=1,"object"===typeof e&&null!==e){for(p=0;p<o.length;p++)if(o[p]===e)return void s(n,e,r,u);if("undefined"!==typeof l.depthLimit&&a>l.depthLimit)return void s(t,e,r,u);if("undefined"!==typeof l.edgesLimit&&i+1>l.edgesLimit)return void s(t,e,r,u);if(o.push(e),Array.isArray(e))for(p=0;p<e.length;p++)c(e[p],p,p,o,e,a,l);else{var f=Object.keys(e);for(p=0;p<f.length;p++){var d=f[p];c(e[d],d,p,o,e,a,l)}}o.pop()}}function l(e,r){return e<r?-1:e>r?1:0}function p(e,r,t,n){"undefined"===typeof n&&(n=u());var a,s=f(e,"",0,[],void 0,0,n)||e;try{a=0===o.length?JSON.stringify(s,r,t):JSON.stringify(s,d(r),t)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{while(0!==i.length){var c=i.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function f(e,r,o,u,a,c,p){var d;if(c+=1,"object"===typeof e&&null!==e){for(d=0;d<u.length;d++)if(u[d]===e)return void s(n,e,r,a);try{if("function"===typeof e.toJSON)return}catch(y){return}if("undefined"!==typeof p.depthLimit&&c>p.depthLimit)return void s(t,e,r,a);if("undefined"!==typeof p.edgesLimit&&o+1>p.edgesLimit)return void s(t,e,r,a);if(u.push(e),Array.isArray(e))for(d=0;d<e.length;d++)f(e[d],d,d,u,e,c,p);else{var h={},v=Object.keys(e).sort(l);for(d=0;d<v.length;d++){var m=v[d];f(e[m],m,d,u,e,c,p),h[m]=e[m]}if("undefined"===typeof a)return h;i.push([a,r,e]),a[r]=h}u.pop()}}function d(e){return e="undefined"!==typeof e?e:function(e,r){return r},function(r,t){if(o.length>0)for(var n=0;n<o.length;n++){var i=o[n];if(i[1]===r&&i[0]===t){t=i[2],o.splice(n,1);break}}return e.call(this,r,t)}}},Nk1h:function(e,r,t){"use strict";var n=function(e,r){return function(){for(var t=this,n=r.promiseModule,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new n((function(n,o){r.errorFirst?i.push((function(e,t){if(r.multiArgs){for(var i=new Array(arguments.length-1),u=1;u<arguments.length;u++)i[u-1]=arguments[u];e?(i.unshift(e),o(i)):n(i)}else e?o(e):n(t)})):i.push((function(e){if(r.multiArgs){for(var t=new Array(arguments.length-1),i=0;i<arguments.length;i++)t[i]=arguments[i];n(t)}else n(e)})),e.apply(t,i)}))}};e.exports=function(e,r){r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);var t,i=function(e){var t=function(r){return"string"===typeof r?e===r:r.test(e)};return r.include?r.include.some(t):!r.exclude.some(t)};for(var o in t="function"===typeof e?function(){return r.excludeMain?e.apply(this,arguments):n(e,r).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e)),e){var u=e[o];t[o]="function"===typeof u&&i(o)?n(u,r):u}return t}},RTRR:function(e,r,t){"use strict";var n=t("bfL6"),i=t("WmNS"),o=t("5wUe"),u=t("3AUn"),a=t("xbqb"),s=t("Lw8S"),c=t("2MUX"),l=t("CS2o"),p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0;var f=p(t("Fj00")),d=t("dT9k"),h=function(e){c(t,e);var r=l(t);function t(){var e;return a(this,t),e=r.call(this),e._middleware=[],e}return s(t,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,r){if(r&&"function"!==typeof r)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var e=this;return function(){var r=u(i.mark((function r(n,a,s,c){var l,p,f,d,h;return i.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t._runAllMiddleware(n,a,e._middleware);case 3:if(l=r.sent,p=o(l,3),f=p[0],d=p[1],h=p[2],!d){r.next=12;break}return r.next=11,t._runReturnHandlers(h);case 11:return r.abrupt("return",c(f));case 12:return r.abrupt("return",s(function(){var e=u(i.mark((function e(r){return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._runReturnHandlers(h);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",r(e.t0));case 8:return e.abrupt("return",r());case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}()));case 15:return r.prev=15,r.t0=r["catch"](0),r.abrupt("return",c(r.t0));case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e,t,n,i){return r.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var e=u(i.mark((function e(r,t){var n;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(r.map(this._promiseHandle.bind(this)));case 3:if(n=e.sent,!t){e.next=6;break}return e.abrupt("return",t(null,n));case 6:return e.abrupt("return",n);case 9:if(e.prev=9,e.t0=e["catch"](0),!t){e.next=13;break}return e.abrupt("return",t(e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"_promiseHandle",value:function(e){var r=this;return new Promise((function(t){r._handle(e,(function(e,r){t(r)}))}))}},{key:"_handle",value:function(){var e=u(i.mark((function e(r,t){var n,o,u,a,s;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r&&!Array.isArray(r)&&"object"===typeof r){e.next=3;break}return n=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: ".concat(typeof r),{request:r}),e.abrupt("return",t(n,{id:void 0,jsonrpc:"2.0",error:n}));case 3:if("string"===typeof r.method){e.next=6;break}return o=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: ".concat(typeof r.method),{request:r}),e.abrupt("return",t(o,{id:r.id,jsonrpc:"2.0",error:o}));case 6:return u=Object.assign({},r),a={id:u.id,jsonrpc:u.jsonrpc},s=null,e.prev=9,e.next=12,this._processRequest(u,a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](9),s=e.t0;case 17:return s&&(delete a.result,a.error||(a.error=d.serializeError(s))),e.abrupt("return",t(s,a));case 19:case"end":return e.stop()}}),e,this,[[9,14]])})));function r(r,t){return e.apply(this,arguments)}return r}()},{key:"_processRequest",value:function(){var e=u(i.mark((function e(r,n){var u,a,s,c,l;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._runAllMiddleware(r,n,this._middleware);case 2:return u=e.sent,a=o(u,3),s=a[0],c=a[1],l=a[2],t._checkForCompletion(r,n,c),e.next=10,t._runReturnHandlers(l);case 10:if(!s){e.next=12;break}throw s;case 12:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}()}],[{key:"_runAllMiddleware",value:function(){var e=u(i.mark((function e(r,u,a){var s,c,l,p,f,d,h,v;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=[],c=null,l=!1,p=n(a),e.prev=4,p.s();case 6:if((f=p.n()).done){e.next=18;break}return d=f.value,e.next=10,t._runMiddleware(r,u,d,s);case 10:if(h=e.sent,v=o(h,2),c=v[0],l=v[1],!l){e.next=16;break}return e.abrupt("break",18);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](4),p.e(e.t0);case 23:return e.prev=23,p.f(),e.finish(23);case 26:return e.abrupt("return",[c,l,s.reverse()]);case 27:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));function r(r,t,n){return e.apply(this,arguments)}return r}()},{key:"_runMiddleware",value:function(e,r,t,n){return new Promise((function(i){var o=function(e){var t=e||r.error;t&&(r.error=d.serializeError(t)),i([t,!0])},u=function(t){r.error?o(r.error):(t&&("function"!==typeof t&&o(new d.EthereumRpcError(d.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+'Received "'.concat(typeof t,'" for request:\n').concat(v(e)),{request:e})),n.push(t)),i([null,!1]))};try{t(e,r,u,o)}catch(a){o(a)}}))}},{key:"_runReturnHandlers",value:function(){var e=u(i.mark((function e(r){var t,o,u;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=n(r),e.prev=1,u=i.mark((function e(){var r;return i.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.value,e.next=3,new Promise((function(e,t){r((function(r){return r?t(r):e()}))}));case 3:case"end":return e.stop()}}),e)})),t.s();case 4:if((o=t.n()).done){e.next=8;break}return e.delegateYield(u(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e["catch"](1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"_checkForCompletion",value:function(e,r,t){if(!("result"in r)&&!("error"in r))throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n".concat(v(e)),{request:e});if(!t)throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n".concat(v(e)),{request:e})}}]),t}(f.default);function v(e){return JSON.stringify(e,null,2)}r.JsonRpcEngine=h},TPf5:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;var n=t("2dIN");function i(){return function(e,r,t,i){var o=e.id,u=n.getUniqueId();e.id=u,r.id=u,t((function(t){e.id=o,r.id=o,t()}))}}r.createIdRemapMiddleware=i},UJ2e:function(e,r){function t(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=i(r);return n[0]}function n(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=i(r);return n[n.length-1]}function i(e){return e.sort((function(e,r){return"latest"===e||"earliest"===r?1:"latest"===r||"earliest"===e?-1:a(e)-a(r)}))}function o(e){return"0x"+e.toString(16)}function u(e){return e&&!["earliest","latest","pending"].includes(e)}function a(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function s(e){if(void 0===e||null===e)return e;var r=a(e);return c(r+1)}function c(e){if(void 0===e||null===e)return e;var r=e.toString(16),t=r.length%2;return t&&(r="0"+r),"0x"+r}function l(e){for(var r="0x",t=0;t<e;t++)r+=p(),r+=p();return r}function p(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:t,maxBlockRef:n,sortBlockRefs:i,bnToHex:o,blockRefIsNumber:u,hexToInt:a,incrementHexInt:s,intToHex:c,unsafeRandomBytes:l}},V5x4:function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("2MUX"),s=t("CS2o"),c=t("Nk1h"),l=t("/u+i"),p=1e3,f=function(e){"use strict";a(t,e);var r=s(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!n.provider)throw new Error("PollingBlockTracker - no provider specified.");var i=n.pollingInterval||20*p,u=n.retryTimeout||i/10,a=void 0===n.keepEventLoopActive||n.keepEventLoopActive,s=n.setSkipCacheFlag||!1;return e=r.call(this,Object.assign({blockResetDuration:i},n)),e._provider=n.provider,e._pollingInterval=i,e._retryTimeout=u,e._keepEventLoopActive=a,e._setSkipCacheFlag=s,e}return u(t,[{key:"checkForLatestBlock",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._updateLatestBlock();case 2:return e.next=4,this.getLatestBlock();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"_start",value:function(){var e=this;this._performSync().catch((function(r){return e.emit("error",r)}))}},{key:"_performSync",value:function(){var e=i(n.mark((function e(){var r;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._isRunning){e.next=16;break}return e.prev=1,e.next=4,this._updateLatestBlock();case 4:return e.next=6,d(this._pollingInterval,!this._keepEventLoopActive);case 6:e.next=14;break;case 8:e.prev=8,e.t0=e["catch"](1),r=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n".concat(e.t0.stack));try{this.emit("error",r)}catch(t){console.error(r)}return e.next=14,d(this._retryTimeout,!this._keepEventLoopActive);case 14:e.next=0;break;case 16:case"end":return e.stop()}}),e,this,[[1,8]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"_updateLatestBlock",value:function(){var e=i(n.mark((function e(){var r;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._fetchLatestBlock();case 2:r=e.sent,this._newPotentialLatest(r);case 4:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},{key:"_fetchLatestBlock",value:function(){var e=i(n.mark((function e(){var r,t,i=this;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]},this._setSkipCacheFlag&&(r.skipCache=!0),e.next=4,c((function(e){return i._provider.sendAsync(r,e)}))();case 4:if(t=e.sent,!t.error){e.next=7;break}throw new Error("PollingBlockTracker - encountered error fetching block:\n".concat(t.error));case 7:return e.abrupt("return",t.result);case 8:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()}]),t}(l);function d(e,r){return new Promise((function(t){var n=setTimeout(t,e);n.unref&&r&&n.unref()}))}e.exports=f},XvlP:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;var n=t("RTRR");function i(e){var r=new n.JsonRpcEngine;return e.forEach((function(e){return r.push(e)})),r.asMiddleware()}r.mergeMiddleware=i},YOjo:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorValues=r.errorCodes=void 0,r.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},r.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},ZJpN:function(e,r,t){var n=t("h875"),i=t("5h2M");function o(r,t,u){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,r,t){var i=[null];i.push.apply(i,r);var o=Function.bind.apply(e,i),u=new o;return t&&n(u,t.prototype),u},o.apply(null,arguments)}e.exports=o},c29t:function(e,r,t){var n=t("8v5O");function i(r,t,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,r,t){var i=n(e,r);if(i){var o=Object.getOwnPropertyDescriptor(i,r);return o.get?o.get.call(t):o.value}},i(r,t,o||r)}e.exports=i},cxFA:function(e,r,t){var n=t("dmwd");function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}e.exports=o},dT9k:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;var n=t("sPLH");Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});var i=t("rmD3");Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});var o=t("Lbbr");Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});var u=t("YOjo");Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return u.errorCodes}})},dmwd:function(e,r){function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}e.exports=t},h9tj:function(e,r,t){"use strict";var n=t("cxFA"),i=function(e,r,t,n){return function(){for(var i=this,o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];var s=r.promiseModule;return new s((function(o,a){r.multiArgs?u.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.errorFirst?t[0]?a(t):(t.shift(),o(t)):o(t)})):r.errorFirst?u.push((function(e,r){e?a(e):o(r)})):u.push(o);var s=i===t?n:i;Reflect.apply(e,s,u)}))}},o=new WeakMap;e.exports=function(e,r){r=n({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);var t=typeof e;if(null===e||"object"!==t&&"function"!==t)throw new TypeError("Expected `input` to be a `Function` or `Object`, got `".concat(null===e?"null":t,"`"));var u=function(e,t){var n=o.get(e);if(n||(n={},o.set(e,n)),t in n)return n[t];var i=function(e){return"string"===typeof e||"symbol"===typeof t?t===e:e.test(t)},u=Reflect.getOwnPropertyDescriptor(e,t),a=void 0===u||u.writable||u.configurable,s=r.include?r.include.some(i):!r.exclude.some(i),c=s&&a;return n[t]=c,c},a=new WeakMap,s=new Proxy(e,{apply:function(e,t,n){var o=a.get(e);if(o)return Reflect.apply(o,t,n);var u=r.excludeMain?e:i(e,r,s,e);return a.set(e,u),Reflect.apply(u,t,n)},get:function(e,t){var n=e[t];if(!u(e,t)||n===Function.prototype[t])return n;var o=a.get(n);if(o)return o;if("function"===typeof n){var c=i(n,r,s,e);return a.set(n,c),c}return n}});return s}},hk3M:function(e,r,t){"use strict";function n(e){return function(r,t,n,i){var o=e[r.method];return void 0===o?n():"function"===typeof o?o(r,t,n,i):(t.result=o,i())}}Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=n},hyCD:function(e,r,t){var n=t("WmNS"),i=t("R5yR"),o=t("bfL6"),u=t("3AUn"),a=t("xbqb"),s=t("Lw8S"),c=t("2MUX"),l=t("CS2o"),p=t("zvTS"),f=t("0QlC"),d=t("UJ2e"),h=d.incrementHexInt,v=function(e){"use strict";c(t,e);var r=l(t);function t(e){var n,i=e.provider;return a(this,t),n=r.call(this),n.type="tx",n.provider=i,n}return s(t,[{key:"update",value:function(){var e=u(n.mark((function e(r){var t,u,a,s,c,l,p,d;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.oldBlock,u=t,a=h(t),e.next=5,f({provider:this.provider,fromBlock:a,toBlock:u});case 5:s=e.sent,c=[],l=o(s);try{for(l.s();!(p=l.n()).done;)d=p.value,c.push.apply(c,i(d.transactions))}catch(n){l.e(n)}finally{l.f()}this.addResults(c);case 10:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()}]),t}(p);e.exports=v},idQJ:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),i(t("TPf5"),r),i(t("/eKi"),r),i(t("hk3M"),r),i(t("2dIN"),r),i(t("RTRR"),r),i(t("XvlP"),r)},lPKl:function(e,r,t){var n=t("GXtI"),i=t("h875"),o=t("+O4Z"),u=t("ZJpN");function a(r){var t="function"===typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,n(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)},a(r)}e.exports=a},"q6/2":function(e,r,t){"use strict";t.r(r),t.d(r,"Mutex",(function(){return s})),t.d(r,"Semaphore",(function(){return u})),t.d(r,"withTimeout",(function(){return c}));function n(e,r,t,n){function i(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{s(n.next(e))}catch(r){o(r)}}function a(e){try{s(n["throw"](e))}catch(r){o(r)}}function s(e){e.done?t(e.value):i(e.value).then(u,a)}s((n=n.apply(e,r||[])).next())}))}function i(e,r){var t,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(r){return s([e,r])}}function s(o){if(t)throw new TypeError("Generator is already executing.");while(u)try{if(t=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(a){o=[6,a],n=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;Object.create;var o=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,r=this.isLocked(),t=new Promise((function(r){return e._queue.push(r)}));return r||this._dispatch(),t},e.prototype.runExclusive=function(e){return n(this,void 0,void 0,(function(){var r,t,n;return i(this,(function(i){switch(i.label){case 0:return[4,this.acquire()];case 1:r=i.sent(),t=r[0],n=r[1],i.label=2;case 2:return i.trys.push([2,,4,5]),[4,e(t)];case 3:return[2,i.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var t=!1;this._currentReleaser=function(){t||(t=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},e}(),u=o,a=function(){function e(){this._semaphore=new u(1)}return e.prototype.acquire=function(){return n(this,void 0,void 0,(function(){var e,r;return i(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),r=e[1],[2,r]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}(),s=a;function c(e,r,t){var o=this;return void 0===t&&(t=new Error("timeout")),{acquire:function(){return new Promise((function(u,a){return n(o,void 0,void 0,(function(){var n,o,s;return i(this,(function(i){switch(i.label){case 0:return n=!1,setTimeout((function(){n=!0,a(t)}),r),[4,e.acquire()];case 1:return o=i.sent(),n?(s=Array.isArray(o)?o[1]:o,s()):u(o),[2]}}))}))}))},runExclusive:function(e){return n(this,void 0,void 0,(function(){var r,t;return i(this,(function(n){switch(n.label){case 0:r=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return t=n.sent(),Array.isArray(t)?(r=t[1],[4,e(t[0])]):[3,4];case 3:return[2,n.sent()];case 4:return r=t,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return r(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}},rW7p:function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("2MUX"),s=t("CS2o"),c=t("zvTS"),l=t("0QlC"),p=t("UJ2e"),f=p.incrementHexInt,d=function(e){"use strict";a(t,e);var r=s(t);function t(e){var n,i=e.provider;e.params;return o(this,t),n=r.call(this),n.type="block",n.provider=i,n}return u(t,[{key:"update",value:function(){var e=i(n.mark((function e(r){var t,i,o,u,a,s;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.oldBlock,i=r.newBlock,o=i,u=f(t),e.next=5,l({provider:this.provider,fromBlock:u,toBlock:o});case 5:a=e.sent,s=a.map((function(e){return e.hash})),this.addResults(s);case 8:case"end":return e.stop()}}),e,this)})));function r(r){return e.apply(this,arguments)}return r}()}]),t}(c);e.exports=d},rmD3:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.isValidCode=r.getMessageFromCode=r.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=t("YOjo"),i=t("sPLH"),o=n.errorCodes.rpc.internal,u="Unspecified error message. This is a bug, please report it.",a={code:o,message:s(o)};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if(Number.isInteger(e)){var i=e.toString();if(d(n.errorValues,i))return n.errorValues[i].message;if(p(e))return r.JSON_RPC_SERVER_ERROR_MESSAGE}return t}function c(e){if(!Number.isInteger(e))return!1;var r=e.toString();return!!n.errorValues[r]||!!p(e)}function l(e){var r,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fallbackError,u=void 0===o?a:o,l=n.shouldIncludeStack,p=void 0!==l&&l;if(!u||!Number.isInteger(u.code)||"string"!==typeof u.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();var h={};if(e&&"object"===typeof e&&!Array.isArray(e)&&d(e,"code")&&c(e.code)){var v=e;h.code=v.code,v.message&&"string"===typeof v.message?(h.message=v.message,d(v,"data")&&(h.data=v.data)):(h.message=s(h.code),h.data={originalError:f(e)})}else{h.code=u.code;var m=null===(r=e)||void 0===r?void 0:r.message;h.message=m&&"string"===typeof m?m:u.message,h.data={originalError:f(e)}}var y=null===(t=e)||void 0===t?void 0:t.stack;return p&&e&&y&&"string"===typeof y&&(h.stack=y),h}function p(e){return e>=-32099&&e<=-32e3}function f(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function d(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",r.getMessageFromCode=s,r.isValidCode=c,r.serializeError=l},sPLH:function(e,r,t){"use strict";var n=t("xbqb"),i=t("Lw8S"),o=t("2MUX"),u=t("CS2o"),a=t("lPKl");Object.defineProperty(r,"__esModule",{value:!0}),r.EthereumProviderError=r.EthereumRpcError=void 0;var s=t("N1pS"),c=function(e){o(t,e);var r=u(t);function t(e,i,o){var u;if(n(this,t),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!i||"string"!==typeof i)throw new Error('"message" must be a nonempty string.');return u=r.call(this,i),u.code=e,void 0!==o&&(u.data=o),u}return i(t,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return s.default(this.serialize(),f,2)}}]),t}(a(Error));r.EthereumRpcError=c;var l=function(e){o(t,e);var r=u(t);function t(e,i,o){if(n(this,t),!p(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return r.call(this,e,i,o)}return t}(c);function p(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function f(e,r){if("[Circular]"!==r)return r}r.EthereumProviderError=l},t7TP:function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("Fj00").default,u=t("/UYa"),a=t("idQJ"),s=a.createAsyncMiddleware,c=t("2nhq"),l=t("UJ2e"),p=l.unsafeRandomBytes,f=l.incrementHexInt,d=t("0QlC");function h(e){var r=e.blockTracker,t=e.provider,a={},l=c({blockTracker:r,provider:t}),h=!1,m=new o,y=u({eth_subscribe:s(w),eth_unsubscribe:s(g)});return y.destroy=_,{events:m,middleware:y};function w(e,r){return b.apply(this,arguments)}function b(){return b=i(n.mark((function e(o,u){var s,c,m,y,w,b,g;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g=function(e){var r=e.subId,t=e.filter;t.on("update",(function(e){return x(r,e)}));var o={type:s,destroy:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.uninstallFilter(t.idHex);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()};return o},b=function(e){var o=e.subId,u={type:s,destroy:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.removeListener("sync",u.update);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=i(n.mark((function e(r){var i,u,a,s,c,l;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r.oldBlock,u=r.newBlock,a=u,s=f(i),e.next=5,d({provider:t,fromBlock:s,toBlock:a});case 5:c=e.sent,l=c.map(v),l.forEach((function(e){x(o,e)}));case 8:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()};return r.on("sync",u.update),u},!h){e.next=4;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 4:s=o.params[0],c=p(16),e.t0=s,e.next="newHeads"===e.t0?9:"logs"===e.t0?11:17;break;case 9:return m=b({subId:c}),e.abrupt("break",18);case 11:return y=o.params[1],e.next=14,l.newLogFilter(y);case 14:return w=e.sent,m=g({subId:c,filter:w}),e.abrupt("break",18);case 17:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(s,'"'));case 18:return a[c]=m,u.result=c,e.abrupt("return");case 21:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function g(e,r){return k.apply(this,arguments)}function k(){return k=i(n.mark((function e(r,t){var i,o;return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 2:if(i=r.params[0],o=a[i],o){e.next=7;break}return t.result=!1,e.abrupt("return");case 7:return delete a[i],e.next=10,o.destroy();case 10:t.result=!0;case 11:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function x(e,r){m.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:r}})}function _(){for(var e in m.removeAllListeners(),a)a[e].destroy(),delete a[e];h=!0}}function v(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=h},y2lW:function(e,r,t){var n=t("7tlc"),i=t("+qE3"),o="object"===typeof Reflect?Reflect:null,u=o&&"function"===typeof o.apply?o.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)};function a(){i.call(this)}function s(e,r,t){try{u(e,r,t)}catch(n){setTimeout((function(){throw n}))}}function c(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}e.exports=a,n.inherits(a,i),a.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var a=i[e];if(void 0===a)return!1;if("function"===typeof a)s(a,this,r);else{var l=a.length,p=c(a,l);for(t=0;t<l;++t)s(p[t],this,r)}return!0}},zvTS:function(e,r,t){var n=t("WmNS"),i=t("3AUn"),o=t("xbqb"),u=t("Lw8S"),a=t("2MUX"),s=t("CS2o"),c=t("Fj00").default,l=function(e){"use strict";a(t,e);var r=s(t);function t(){var e;return o(this,t),e=r.call(this),e.updates=[],e}return u(t,[{key:"initialize",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},{key:"update",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("BaseFilter - no update method specified");case 1:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},{key:"addResults",value:function(e){var r=this;this.updates=this.updates.concat(e),e.forEach((function(e){return r.emit("update",e)}))}},{key:"addInitialResults",value:function(e){}},{key:"getChangesAndClear",value:function(){var e=this.updates;return this.updates=[],e}}]),t}(c);e.exports=l}}]);